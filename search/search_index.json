{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"api_reference/aloegraph/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/aloe_config/","title":"Aloe config","text":"<ul> <li>Module: <code>src/aloegraph/aloe_config.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/aloe_graph/","title":"Aloe graph","text":"<ul> <li>Module: <code>src/aloegraph/aloe_graph.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/V2/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/V2/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/V2/response_generator/","title":"Response generator","text":""},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator--response_generator","title":"response_generator","text":"<ul> <li>Module: <code>src/aloegraph/V2/response_generator.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Defines abstract and concrete classes for generating structured JSON responses from large language models (LLMs) in AloeGraph V2.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator--overview","title":"Overview","text":"<ul> <li> <p>JSONResponseGeneratorBase:   An abstract generic base class parameterized by a <code>BaseResponse</code> type.   Provides the contract for generating agent responses as validated Pydantic   models. It manages:</p> <ul> <li>Generic type resolution (<code>response_T</code>)</li> <li>Schema extraction (<code>schema_dict</code>)</li> <li>System instruction construction (<code>system_instruction</code>)</li> <li>Subclass initialization hooks</li> </ul> </li> <li> <p>GeminiJSONResponseGenerator:   Concrete implementation of <code>JSONResponseGeneratorBase</code> that integrates with   Google's Gemini API. It sends prompts to the model, requests JSON output   conforming to the response schema, and validates the result against the   specified <code>BaseResponse</code> type. Errors in generation or parsing are caught   and returned as structured failure responses.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator--key-concepts","title":"Key Concepts","text":"<ul> <li> <p>BaseResponse:   All response types must inherit from <code>BaseResponse</code>, ensuring a consistent   schema with <code>success</code>, <code>agent_message</code>, and <code>error_message</code> fields.</p> </li> <li> <p>Generic parameterization:   <code>JSONResponseGeneratorBase[responseT]</code> enforces that subclasses specify   the concrete response type they produce. This allows automatic schema   extraction and validation.</p> </li> <li> <p>System instructions:   Each response type defines a <code>SYSTEM_INSTRUCTION</code> classmethod. Generators   use this to guide the LLM in producing structured outputs.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator--usage","title":"Usage","text":"<p>Subclass <code>JSONResponseGeneratorBase</code> or use <code>GeminiJSONResponseGenerator</code> directly to generate validated responses:</p> <pre><code>class ChatAgentResponse(BaseResponse):\n    @classmethod\n    def SYSTEM_INSTRUCTION(cls, agent_name: str, agent_description: str) -&gt; str:\n        return f\"{agent_name}: {agent_description}\"\n\ngenerator = GeminiJSONResponseGenerator[ChatAgentResponse](\n    client=genai.Client(),\n    agent_name=\"ChatAgent\",\n    agent_description=\"Handles user conversations\"\n)\n\nresponse = generator.generate(\"Hello, world!\")\nprint(response.success, response.agent_message)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator","title":"<code>GeminiJSONResponseGenerator(client, agent_name, agent_description)</code>","text":"<p>               Bases: <code>JSONResponseGeneratorBase[responseT]</code></p> <p>Concrete JSON response generator using Google's Gemini API.</p> <p>Implements the <code>generate</code> method to send prompts to the Gemini model, request structured JSON output conforming to the schema of the specified <code>BaseResponse</code> type, and validate the result. Handles both generation errors and JSON parsing errors gracefully by returning structured failure responses.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator--responsibilities","title":"Responsibilities","text":"<ul> <li>Integrate with the Gemini client to call <code>models.generate_content</code>.</li> <li>Pass the response schema and system instruction to enforce   structured outputs.</li> <li>Validate the returned JSON against the <code>BaseResponse</code> schema.</li> <li>Catch and wrap errors (generation failures, parse errors) in   a consistent <code>BaseResponse</code> with <code>success=False</code>.</li> </ul>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator--type-parameters","title":"Type Parameters","text":"<p>responseT : BaseResponse     The concrete response type produced by the generator.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator--example","title":"Example","text":"<pre><code>generator = GeminiJSONResponseGenerator[ChatAgentResponse](\n    client=genai.Client(),\n    agent_name=\"ChatAgent\",\n    agent_description=\"Handles user conversations\"\n)\nresponse = generator.generate(\"Hello, world!\")\nprint(response.success, response.agent_message)\n</code></pre> Source code in <code>src/aloegraph/V2/response_generator.py</code> <pre><code>def __init__(self, client: genai.Client, agent_name: str, agent_description:str):\n    self.client = client\n    self.agent_name = agent_name\n    self.agent_description = agent_description\n</code></pre>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator.generate","title":"<code>generate(prompt, system_instruction=None, model_type='gemini-2.5-flash', temperature=0.2)</code>","text":"<p>Generate a structured JSON response using Google's Gemini API.</p> <p>Sends the given prompt to the Gemini model, requesting output in JSON format that conforms to the schema of the specified <code>BaseResponse</code> type. Attempts to validate the returned JSON against the schema. If validation fails or the API call raises an exception, returns a structured error response with <code>success=False</code>.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator.generate--parameters","title":"Parameters","text":"<p>prompt : str     The user or agent prompt to send to the Gemini model. system_instruction : str, optional     Instruction string guiding the model's behavior. If not provided,     the generator uses the default <code>system_instruction</code> property. model_type : str, default \"gemini-2.5-flash\"     Identifier for the Gemini model to use. temperature : float, default 0.2     Sampling temperature controlling randomness in generation.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator.generate--returns","title":"Returns","text":"<p>responseT     A validated response object of type <code>BaseResponse</code>. If generation     or parsing fails, returns a <code>BaseResponse</code> with <code>success=False</code>     and error details populated.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.GeminiJSONResponseGenerator.generate--error-handling","title":"Error Handling","text":"<ul> <li> <p>JSON Parse Error:   Raised if the Gemini model returns invalid JSON. The generator   wraps the error in a <code>BaseResponse</code> with <code>success=False</code> and   includes the raw response text and schema in <code>error_message</code>.</p> </li> <li> <p>LLM Generation Error:   Raised if the Gemini API call fails. The generator returns a   structured error response with traceback details in <code>error_message</code>.</p> </li> </ul> Source code in <code>src/aloegraph/V2/response_generator.py</code> <pre><code>def generate(\n    self,\n    prompt: str,\n    system_instruction: str = None,\n    model_type=\"gemini-2.5-flash\",\n    temperature: float = 0.2\n) -&gt; responseT:\n    \"\"\"\n    Generate a structured JSON response using Google's Gemini API.\n\n    Sends the given prompt to the Gemini model, requesting output in JSON\n    format that conforms to the schema of the specified `BaseResponse`\n    type. Attempts to validate the returned JSON against the schema. If\n    validation fails or the API call raises an exception, returns a\n    structured error response with `success=False`.\n\n    Parameters\n    ----------\n    prompt : str\n        The user or agent prompt to send to the Gemini model.\n    system_instruction : str, optional\n        Instruction string guiding the model's behavior. If not provided,\n        the generator uses the default `system_instruction` property.\n    model_type : str, default \"gemini-2.5-flash\"\n        Identifier for the Gemini model to use.\n    temperature : float, default 0.2\n        Sampling temperature controlling randomness in generation.\n\n    Returns\n    -------\n    responseT\n        A validated response object of type `BaseResponse`. If generation\n        or parsing fails, returns a `BaseResponse` with `success=False`\n        and error details populated.\n\n    Error Handling\n    --------------\n    - **JSON Parse Error**:\n      Raised if the Gemini model returns invalid JSON. The generator\n      wraps the error in a `BaseResponse` with `success=False` and\n      includes the raw response text and schema in `error_message`.\n\n    - **LLM Generation Error**:\n      Raised if the Gemini API call fails. The generator returns a\n      structured error response with traceback details in `error_message`.\n    \"\"\"        \n\n    try:\n        response = self.client.models.generate_content(\n            model=model_type, contents=prompt,\n            config=genai.types.GenerateContentConfig(\n                temperature=temperature,\n                response_mime_type=\"application/json\",\n                response_schema=self.schema_dict,\n                system_instruction=system_instruction or self.system_instruction,\n                tools=[]))\n        try:\n            return self.response_T.model_validate_json(response.text)\n        except Exception as e:\n            return self.response_T(\n                success=False,\n                agent_message=\"\u26a0\ufe0f Sorry, I wasn\u2019t able to generate a response this time. Please try again.\",\n                error_message=f\"--- \ud83d\udea8 JSON Parse Error ---\\n{response.text}\\n\\nschema_dict:\\n{self.schema_dict}\\n\\nException:{e}\")\n    except Exception as e:\n        return self.response_T(\n            success=False,\n            agent_message=\"\u26a0\ufe0f Sorry, I wasn\u2019t able to generate a response this time. Please try again.\",\n            error_message=f\"--- \ud83d\udea8 LLM Generation Error ---\\n{str(e)}\\n\\nschema_dict:\\n{self.schema_dict}\\n\\n{traceback.format_exc()}\")\n</code></pre>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase","title":"<code>JSONResponseGeneratorBase(agent_name, agent_description)</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract generic base class for JSON response generators.</p> <p>This class defines the contract for agents that generate structured responses from large language models. It is parameterized by a <code>BaseResponse</code> subclass, ensuring that all generated outputs conform to a validated schema.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase--responsibilities","title":"Responsibilities","text":"<ul> <li>Provide an abstract <code>generate</code> method that subclasses must implement   to call an LLM and return a validated response.</li> <li>Manage generic type resolution (<code>response_T</code>) to determine the   concrete response type.</li> <li>Expose the JSON schema (<code>schema_dict</code>) for the response type,   used to enforce structured outputs.</li> <li>Construct the system instruction string (<code>system_instruction</code>)   from agent metadata, guiding the LLM in response generation.</li> <li>Wrap subclass initialization to set up caches and metadata.</li> </ul>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase--type-parameters","title":"Type Parameters","text":"<p>responseT : BaseResponse     The concrete response type produced by the generator.</p> Source code in <code>src/aloegraph/V2/response_generator.py</code> <pre><code>def __init__(self, agent_name: str, agent_description:str):\n    self.agent_name = agent_name\n    self.agent_description = agent_description\n</code></pre>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.response_T","title":"<code>response_T</code>  <code>property</code>","text":"<p>Resolve and cache the concrete response type parameter.</p> <p>This property inspects the generic type arguments of the class (<code>__orig_class__</code>) to determine the specific <code>BaseResponse</code> subclass used for this generator. The result is cached for reuse.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.response_T--returns","title":"Returns","text":"<p>type[responseT]     The concrete <code>BaseResponse</code> subclass specified as the generic     parameter.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.response_T--raises","title":"Raises","text":"<p>TypeError     If no generic type argument was provided when subclassing.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.schema_dict","title":"<code>schema_dict</code>  <code>property</code>","text":"<p>Lazily retrieve the JSON schema for the response type.</p> <p>Uses the <code>response_T</code> property to access the Pydantic model schema (<code>model_json_schema</code>) and caches the result. This schema is passed to the LLM to enforce structured JSON output.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.schema_dict--returns","title":"Returns","text":"<p>dict     JSON schema dictionary describing the response model.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.system_instruction","title":"<code>system_instruction</code>  <code>property</code>","text":"<p>Construct and cache the system instruction string.</p> <p>Calls the <code>SYSTEM_INSTRUCTION</code> classmethod of the response type, passing the agent name and description. This instruction guides the LLM in producing responses that conform to the agent\u2019s role.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.system_instruction--returns","title":"Returns","text":"<p>str     System instruction string for the agent.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.generate","title":"<code>generate(prompt, system_instruction=None, model_type='gemini-2.5-flash', temperature=0.2)</code>  <code>abstractmethod</code>","text":"<p>Abstract method for generating a structured agent response.</p> <p>Subclasses must implement this method to send a prompt to a model, apply system instructions, and return a validated <code>BaseResponse</code> instance. The implementation is responsible for ensuring that the returned object conforms to the schema defined by <code>responseT</code>.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.generate--parameters","title":"Parameters","text":"<p>prompt : str     The user or agent prompt to send to the model. system_instruction : str, optional     Instruction string guiding the model's behavior. If not provided,     subclasses may use the default <code>system_instruction</code> property. model_type : str, default \"gemini-2.5-flash\"     Identifier for the model backend to use. temperature : float, default 0.2     Sampling temperature controlling randomness in generation.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.generate--returns","title":"Returns","text":"<p>responseT     A validated response object of type <code>BaseResponse</code>.</p>"},{"location":"api_reference/aloegraph/V2/response_generator/#aloegraph.V2.response_generator.JSONResponseGeneratorBase.generate--raises","title":"Raises","text":"<p>NotImplementedError     If the method is not implemented by a subclass.</p> Source code in <code>src/aloegraph/V2/response_generator.py</code> <pre><code>@abstractmethod\ndef generate(\n    self,\n    prompt: str,\n    system_instruction: str = None,\n    model_type=\"gemini-2.5-flash\",\n    temperature: float = 0.2\n) -&gt; responseT:\n    \"\"\"\n    Abstract method for generating a structured agent response.\n\n    Subclasses must implement this method to send a prompt to a model,\n    apply system instructions, and return a validated `BaseResponse`\n    instance. The implementation is responsible for ensuring that the\n    returned object conforms to the schema defined by `responseT`.\n\n    Parameters\n    ----------\n    prompt : str\n        The user or agent prompt to send to the model.\n    system_instruction : str, optional\n        Instruction string guiding the model's behavior. If not provided,\n        subclasses may use the default `system_instruction` property.\n    model_type : str, default \"gemini-2.5-flash\"\n        Identifier for the model backend to use.\n    temperature : float, default 0.2\n        Sampling temperature controlling randomness in generation.\n\n    Returns\n    -------\n    responseT\n        A validated response object of type `BaseResponse`.\n\n    Raises\n    ------\n    NotImplementedError\n        If the method is not implemented by a subclass.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/","title":"V2 aloe graph","text":""},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph--v2_aloe_graph","title":"v2_aloe_graph","text":"<ul> <li>Module: <code>src/aloegraph/V2/v2_aloe_graph.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Concrete graph execution engine for AloeGraph V2.</p> <p>This module defines <code>V2AloeGraph</code>, the primary class responsible for compiling and executing declaratively defined node\u2013edge graphs. It extends <code>V2AloeNodeGraph</code> with lifecycle management, logging, and error handling.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph--overview","title":"Overview","text":"<ul> <li> <p>END constant:   Special marker string <code>\"__END__\"</code> used to signal termination of graph   execution. Other control markers (RESUME, INTERRUPT, CONTINUE) are reserved   but not currently active.</p> </li> <li> <p>V2AloeGraph:   Provides methods to:</p> <ul> <li><code>compile</code> \u2014 validate nodes and edges, ensure a single entry node,   build an execution plan, and generate a Mermaid chart.</li> <li><code>invoke</code> \u2014 execute the graph step by step, handling interrupts,   recursion limits, and logging transitions.</li> <li><code>notify_log</code> \u2014 send messages to an optional <code>LogNotifier</code>.</li> <li><code>preflight</code> \u2014 hook for subclasses to run validation checks before   compilation.</li> <li><code>set_state</code> \u2014 assign or update the current state object.</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph--lifecycle","title":"Lifecycle","text":"<ol> <li>Define a subclass of <code>V2AloeGraph</code> with nodes and edges declared    using decorators from <code>V2AloeNodeGraph</code>.</li> <li>Compile the graph with <code>compile()</code>. This validates structure,    sets the start node, and prepares the execution plan.</li> <li>Invoke the graph with <code>invoke()</code>. The graph traverses nodes and    edges until reaching <code>END</code> or encountering an interrupt.</li> <li>Log messages are optionally sent to a <code>LogNotifier</code> for debugging    and monitoring.</li> </ol>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph--example","title":"Example","text":"<pre><code>class MyGraph(V2AloeGraph[v2_base_model.V2AloeConfig]):\n    @V2AloeGraph.AloeNode(name=\"Start\", is_entry=True)\n    def start(self, state):\n        state.__EDGE__ = \"Next\"\n        return state\n\n    @V2AloeGraph.AloeEdge(target=\"End\", description=\"finish\")\n    def to_end(self, state):\n        state.__EDGE__ = END\n        return state\n\ngraph = MyGraph(initial_state=v2_base_model.V2AloeConfig())\nplan = graph.compile()\nfinal_state = graph.invoke()\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph","title":"<code>V2AloeGraph(initial_state=None, log_notifier=None)</code>","text":"<p>               Bases: <code>V2AloeNodeGraph[StateT]</code></p> <p>Concrete graph class for AloeGraph V2.</p> <p><code>V2AloeGraph</code> extends <code>V2AloeNodeGraph</code> to provide execution, compilation, and logging capabilities for declaratively defined node\u2013edge graphs. It manages state transitions, handles interrupts, and can render execution plans and Mermaid diagrams.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph--type-parameters","title":"Type Parameters","text":"<p>StateT : V2AloeConfig     The type of the state object used to track graph execution.</p> <p>Initialize a new AloeGraph instance.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph--parameters","title":"Parameters","text":"<p>initial_state : StateT, optional     Initial state object for the graph. log_notifier : LogNotifier, optional     Optional notifier for logging graph events.</p> Source code in <code>src/aloegraph/V2/v2_aloe_graph.py</code> <pre><code>def __init__(self, initial_state: StateT = None, log_notifier: v2_base_model.LogNotifier = None,):\n    \"\"\"\n    Initialize a new AloeGraph instance.\n\n    Parameters\n    ----------\n    initial_state : StateT, optional\n        Initial state object for the graph.\n    log_notifier : LogNotifier, optional\n        Optional notifier for logging graph events.\n    \"\"\"\n    if initial_state:\n        self.set_state(initial_state)\n\n    if log_notifier:\n        self.log_notifier: v2_base_model.LogNotifier = log_notifier\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.__init_subclass__","title":"<code>__init_subclass__(**kwargs)</code>","text":"<p>Hook called when a subclass of <code>V2AloeGraph</code> is defined.</p> <p>Ensures that node wrappers are collected and registered when subclasses are created.</p> Source code in <code>src/aloegraph/V2/v2_aloe_graph.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n    \"\"\"\n    Hook called when a subclass of `V2AloeGraph` is defined.\n\n    Ensures that node wrappers are collected and registered\n    when subclasses are created.\n    \"\"\"\n    super().__init_subclass__(**kwargs)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.compile","title":"<code>compile(graph_name=None, log_notifier=None, state=None)</code>","text":"<p>Compile the graph definition.</p> <p>Validates nodes and edges, ensures a single entry node is defined, builds an execution plan, and prepares Mermaid chart rendering. Marks the graph as initialized for execution.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.compile--parameters","title":"Parameters","text":"<p>graph_name : str, optional     Name of the graph. Defaults to the class name. log_notifier : LogNotifier, optional     Optional notifier for logging graph events. state : StateT, optional     Initial state object for the graph.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.compile--returns","title":"Returns","text":"<p>dict     Execution plan mapping node names to their functions and targets.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.compile--raises","title":"Raises","text":"<p>AloeGraphCompileError     If preflight checks fail. ValueError     If edge targets are missing, or if no/too many start nodes are defined.</p> Source code in <code>src/aloegraph/V2/v2_aloe_graph.py</code> <pre><code>def compile(self, graph_name: str = None, log_notifier: v2_base_model.LogNotifier = None, state: StateT = None) -&gt; None:\n    \"\"\"\n    Compile the graph definition.\n\n    Validates nodes and edges, ensures a single entry node is defined,\n    builds an execution plan, and prepares Mermaid chart rendering.\n    Marks the graph as initialized for execution.\n\n    Parameters\n    ----------\n    graph_name : str, optional\n        Name of the graph. Defaults to the class name.\n    log_notifier : LogNotifier, optional\n        Optional notifier for logging graph events.\n    state : StateT, optional\n        Initial state object for the graph.\n\n    Returns\n    -------\n    dict\n        Execution plan mapping node names to their functions and targets.\n\n    Raises\n    ------\n    AloeGraphCompileError\n        If preflight checks fail.\n    ValueError\n        If edge targets are missing, or if no/too many start nodes are defined.\n    \"\"\"\n    if not graph_name:\n        self.GraphName = type(self).__name__\n\n    if state:\n        self.state = state\n\n    if log_notifier:\n        self.log_notifier = log_notifier\n\n    if not self.preflight():\n        AloeGraphCompileError(\"Preflight Checks Failed\")\n\n    for node_name, node_wrapper in self.nodes.items():\n        for edge_name, edge_data in node_wrapper.edge_map.items():\n            target = edge_data.target\n            if target not in self.nodes and target not in [END]:\n                raise ValueError(\n                    f\"Edge&lt;{edge_name}&gt; ({node_name}-&gt;{target}): target not found in nodes\")\n\n    start_nodes = [\n        node_name for node_name, value\n        in self.nodes.items()\n        if value.node_data.is_entry]\n\n    if not start_nodes:\n        raise ValueError(\"No start node defined\")\n\n    if len(start_nodes) &gt; 1:\n        raise ValueError(\"More than one start node defined\")\n\n    self.start_node = start_nodes[0]\n\n    plan = {}\n    for node_name, node_wrapper in self.nodes.items():\n        plan[node_name] = {\n            \"func\": node_name,\n            \"targets\": [edge_data.target\n                        for edge_name, edge_data\n                        in node_wrapper.edge_map.items()]}\n\n    self.mermaid_chart = self.render_mermaid_chart()\n    self.execution_plan = plan\n    self.start_nodes = start_nodes\n\n    self._is_initialized = True\n\n    print(\"Graph compiled successfully.\")\n    return plan\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.invoke","title":"<code>invoke(state=None, recursion_limit=10)</code>","text":"<p>Execute the graph starting from the entry node.</p> <p>Iteratively traverses nodes and edges until reaching the <code>END</code> marker or encountering an interrupt. Handles exceptions, logs transitions, and enforces a recursion limit.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.invoke--parameters","title":"Parameters","text":"<p>state : StateT, optional     State object to use for execution. If not provided, the     existing state is used. recursion_limit : int, default 10     Maximum number of steps allowed before raising an error.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.invoke--returns","title":"Returns","text":"<p>StateT     The final state object after execution.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.invoke--raises","title":"Raises","text":"<p>RuntimeError     If the graph has not been compiled or recursion limit is exceeded. ValueError     If an edge target is undefined.</p> Source code in <code>src/aloegraph/V2/v2_aloe_graph.py</code> <pre><code>def invoke(self, state: StateT = None, recursion_limit=10) -&gt; StateT:\n    \"\"\"\n    Execute the graph starting from the entry node.\n\n    Iteratively traverses nodes and edges until reaching the `END`\n    marker or encountering an interrupt. Handles exceptions, logs\n    transitions, and enforces a recursion limit.\n\n    Parameters\n    ----------\n    state : StateT, optional\n        State object to use for execution. If not provided, the\n        existing state is used.\n    recursion_limit : int, default 10\n        Maximum number of steps allowed before raising an error.\n\n    Returns\n    -------\n    StateT\n        The final state object after execution.\n\n    Raises\n    ------\n    RuntimeError\n        If the graph has not been compiled or recursion limit is exceeded.\n    ValueError\n        If an edge target is undefined.\n    \"\"\"\n    self.notify_log(f\"[V2AloeGraph.invoke] Entering\")\n    if not self._is_initialized:\n        raise RuntimeError(\"Graph has not been compiled\")\n    if state:\n        self.state = state\n    self.state._enter()\n    if self.state.__INTERRUPT__:\n        self.state.__EDGE__ = self.state.__INTERRUPT__\n        self.state.__INTERRUPT__ = \"\"\n\n        self.notify_log(\n            f\"[V2AloeGraph.invoke] __INTERRUPT__ Resuming &lt;{self.state.__EDGE__}&gt;\")\n    else:\n        self.state.__EDGE__ = self.start_node\n        self.notify_log(\n            f\"[V2AloeGraph.invoke] Calling Start Node &lt;{self.state.__EDGE__}&gt;\")\n    steps = 0\n    try:\n        while self.state.__EDGE__ != END and not self.state.__INTERRUPT__:\n            node_fn = self.nodes[self.state.__EDGE__]\n            prev_edge = self.state.__EDGE__\n            self.notify_log(\n                f\"[V2AloeGraph.invoke:{steps}] --- Entering &lt;{self.state.__EDGE__}&gt; ---\")\n            try:\n                self.state = node_fn(self, self.state)\n            except Exception as e:\n                self.notify_log(\n                    f\"[V2AloeGraph.invoke:{steps}] --- EXCEPTION &lt;{prev_edge}&gt; ---\\n\\n{e}\\n\\n{traceback.format_exc()}\")\n\n            self.notify_log(\n                f\"[V2AloeGraph.invoke:{steps}] --- Exiting &lt;{prev_edge} -&gt; {self.state.__EDGE__}&gt; ---\")\n            next_edge = node_fn.edge_map[self.state.__EDGE__]\n            if not next_edge:\n                if len(node_fn.edge_map) == 1:\n                    next_edge = [e for e in node_fn.edge_map.values()][0]\n                else:\n                    raise ValueError(\"state.__EDGE__ not defined\")\n            if next_edge.interrupt:\n                self.state.__INTERRUPT__ = self.state.__EDGE__\n                self.notify_log(\n                    f\"[V2AloeGraph.invoke:{steps}] __INTERRUPT__ Received &lt;{self.state.__EDGE__}&gt;\")\n            else:\n                self.state.__INTERRUPT__ = \"\"\n            steps += 1\n            if steps &gt; recursion_limit:\n                self.notify_log(\n                    f\"[V2AloeGraph.invoke:{steps}] ERROR: Recursion limit {recursion_limit} reached without hitting END\")\n                self.state.error_message = f\"Recursion limit {recursion_limit} reached without hitting END\"\n                raise RuntimeError(self.state.error_message)\n    finally:\n        self.state._exit()\n        return self.state\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.notify_log","title":"<code>notify_log(message)</code>","text":"<p>Send a log message to the configured notifier.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.notify_log--parameters","title":"Parameters","text":"<p>message : str     The message to log.</p> Source code in <code>src/aloegraph/V2/v2_aloe_graph.py</code> <pre><code>def notify_log(self, message) -&gt; None:\n    \"\"\"\n    Send a log message to the configured notifier.\n\n    Parameters\n    ----------\n    message : str\n        The message to log.\n    \"\"\"\n    if hasattr(self, \"log_notifier\"):\n        self.log_notifier.add_log(f\"{self.GraphName} | {message}\")\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.preflight","title":"<code>preflight()</code>","text":"<p>Run preflight checks before compilation.</p> <p>Override this method in subclasses to implement custom validation logic. Called automatically during <code>compile</code>.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.preflight--returns","title":"Returns","text":"<p>bool     True if preflight checks pass, False otherwise.</p> Source code in <code>src/aloegraph/V2/v2_aloe_graph.py</code> <pre><code>def preflight(self) -&gt; bool:\n    \"\"\"\n    Run preflight checks before compilation.\n\n    Override this method in subclasses to implement custom validation\n    logic. Called automatically during `compile`.\n\n    Returns\n    -------\n    bool\n        True if preflight checks pass, False otherwise.\n    \"\"\"\n    return True\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.set_state","title":"<code>set_state(state)</code>","text":"<p>Set the current graph state.</p>"},{"location":"api_reference/aloegraph/V2/v2_aloe_graph/#aloegraph.V2.v2_aloe_graph.V2AloeGraph.set_state--parameters","title":"Parameters","text":"<p>state : StateT     The state object to assign to the graph.</p> Source code in <code>src/aloegraph/V2/v2_aloe_graph.py</code> <pre><code>def set_state(self, state: StateT):\n    \"\"\"\n    Set the current graph state.\n\n    Parameters\n    ----------\n    state : StateT\n        The state object to assign to the graph.\n    \"\"\"\n    self.state = state\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/","title":"V2 base model","text":""},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model--v2_base_model","title":"v2_base_model","text":"<ul> <li>Module: <code>src/aloegraph/V2/v2_base_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Core data models and abstract interfaces for AloeGraph V2.</p> <p>This module defines the foundational Pydantic models, enums, and abstract base classes used throughout AloeGraph. These components provide the schema, metadata, and notification interfaces that support graph execution, visualization, and chat interaction.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model--overview","title":"Overview","text":"<ul> <li> <p>V2AloeConfig:   Configuration state object for <code>V2AloeGraph</code>. Tracks user/agent messages,   error details, and control flags (<code>__EDGE__</code>, <code>__INTERRUPT__</code>, etc.) used   during graph traversal.</p> </li> <li> <p>NodeRenderShape:   Enumeration of Mermaid diagram shapes for rendering nodes in flowcharts   and state diagrams.</p> </li> <li> <p>AloeNodeData:   Metadata model for graph nodes, including name, description, entry status,   initialization flag, and render shape.</p> </li> <li> <p>AloeEdgeData:   Metadata model for graph edges, including target node, label, description,   and interrupt flag.</p> </li> <li> <p>ChatMessage:   Schema for individual chat messages exchanged between user and agent,   including sequence ID, role, content, timestamp, and optional error info.</p> </li> <li> <p>LogNotifier (abstract):   Interface for logging systems that record or clear log messages. Provides   a contract for implementations that direct logs to console, files, or UI.</p> </li> <li> <p>ChatNotifier (abstract):   Extends <code>LogNotifier</code> with methods for managing chat state and user-facing   messages. Defines hooks for attaching agents, adding replies, clearing   messages, and updating status indicators.</p> </li> <li> <p>ChatAgent (abstract):   Interface for chat agents that process user messages and interact with   dialogs. Defines the <code>notify</code> method for handling input and producing   replies, plus a deprecated <code>set_dialog</code> hook.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model--usage","title":"Usage","text":"<p>These models and interfaces form the backbone of AloeGraph V2. They are referenced by higher\u2011level graph classes (<code>V2AloeGraph</code>, <code>V2AloeNodeGraph</code>) and agent implementations to ensure consistent state management, schema validation, and communication patterns.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model--example","title":"Example","text":"<pre><code>config = V2AloeConfig(user_message=\"Hello\")\nnode_data = AloeNodeData(name=\"Start\", is_entry=True)\nedge_data = AloeEdgeData(target=\"End\", description=\"finish\")\n\nmsg = ChatMessage(sequence_id=1, role=\"user\", content=\"Hi there\", timestamp=\"2025-11-12T23:06:00Z\")\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.AloeEdgeData","title":"<code>AloeEdgeData</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Metadata for an <code>AloeEdge</code>.</p> <p>Defines the properties of an edge connecting nodes in the AloeGraph, including its target, label, description, and whether it represents an interrupt.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.AloeEdgeData--attributes","title":"Attributes","text":"<p>target : str     The identifier of the target node this edge connects to. name : str, optional     The label or name of the edge. description : str, optional     Human-readable description of the edge's purpose. interrupt : bool     Whether this edge represents an interrupt in the graph flow.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.AloeNodeData","title":"<code>AloeNodeData</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Metadata for an <code>AloeNode</code>.</p> <p>Defines the properties of a node in the AloeGraph, including its name, description, entry status, initialization state, and render shape.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.AloeNodeData--attributes","title":"Attributes","text":"<p>name : str, optional     The identifier or label for the node. description : str, optional     Human-readable description of the node's purpose. is_entry : bool     Whether this node is the entry point of the graph. Defaults to False. _is_initialized : bool     Internal flag indicating whether the node has been initialized. node_render_shape : NodeRenderShape     The visual shape used when rendering the node in diagrams.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatAgent","title":"<code>ChatAgent</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for chat agents.</p> <p>Defines the interface for agents that process user messages and interact with dialogs.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatAgent.notify","title":"<code>notify(msg)</code>  <code>abstractmethod</code>","text":"<p>Handle a new user message asynchronously.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatAgent.notify--parameters","title":"Parameters","text":"<p>msg : str     The user message to process.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatAgent.notify--returns","title":"Returns","text":"<p>str     The agent's reply message.</p> Source code in <code>src/aloegraph/V2/v2_base_model.py</code> <pre><code>@abstractmethod\ndef notify(self, msg: str) -&gt; str:\n    \"\"\"\n    Handle a new user message asynchronously.\n\n    Parameters\n    ----------\n    msg : str\n        The user message to process.\n\n    Returns\n    -------\n    str\n        The agent's reply message.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatMessage","title":"<code>ChatMessage</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Representation of a single chat message.</p> <p>Used by <code>ChatAgent</code> in <code>v2_chat_model.ChatAgentState</code> to capture conversational exchanges between user and agent.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatMessage--attributes","title":"Attributes","text":"<p>sequence_id : int     Sequential identifier for the message in the conversation. role : str     The role of the message sender (e.g., \"user\", \"agent\"). content : str     The textual content of the message. timestamp : str     Timestamp of when the message was created. error_message : str, optional     Error details if the message could not be processed correctly.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier","title":"<code>ChatNotifier</code>","text":"<p>               Bases: <code>LogNotifier</code></p> <p>Abstract base class for chat notification.</p> <p>Extends LogNotifier with methods for managing chat state and user-facing messages. Implementations may update a UI, send events, or integrate with external systems.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.add_reply","title":"<code>add_reply(text, sender=None)</code>  <code>abstractmethod</code>","text":"<p>Add a reply message to the chat output.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.add_reply--parameters","title":"Parameters","text":"<p>text : str     The reply text. sender : str, optional     Label for the sender (e.g., \"Agent\" or \"User\").</p> Source code in <code>src/aloegraph/V2/v2_base_model.py</code> <pre><code>@abstractmethod\ndef add_reply(self, text: str, sender: str = None) -&gt; None:\n    \"\"\"\n    Add a reply message to the chat output.\n\n    Parameters\n    ----------\n    text : str\n        The reply text.\n    sender : str, optional\n        Label for the sender (e.g., \"Agent\" or \"User\").\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.clear_msgs","title":"<code>clear_msgs()</code>  <code>abstractmethod</code>","text":"<p>Clear all chat messages from the output.</p> Source code in <code>src/aloegraph/V2/v2_base_model.py</code> <pre><code>@abstractmethod\ndef clear_msgs(self) -&gt; None:\n    \"\"\"\n    Clear all chat messages from the output.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.set_agent","title":"<code>set_agent(agent)</code>  <code>abstractmethod</code>","text":"<p>Attach a chat agent to this notifier.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.set_agent--parameters","title":"Parameters","text":"<p>agent : ChatAgent     The agent responsible for handling user input and producing replies.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.set_agent--returns","title":"Returns","text":"<p>ChatAgent     The agent that was set.</p> Source code in <code>src/aloegraph/V2/v2_base_model.py</code> <pre><code>@abstractmethod\ndef set_agent(self, agent: \"ChatAgent\") -&gt; \"ChatAgent\":\n    \"\"\"\n    Attach a chat agent to this notifier.\n\n    Parameters\n    ----------\n    agent : ChatAgent\n        The agent responsible for handling user input and producing replies.\n\n    Returns\n    -------\n    ChatAgent\n        The agent that was set.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.set_status","title":"<code>set_status(text)</code>  <code>abstractmethod</code>","text":"<p>Update the chat status indicator.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.ChatNotifier.set_status--parameters","title":"Parameters","text":"<p>text : str     Status message to display (e.g., \"ready\", \"waiting\").</p> Source code in <code>src/aloegraph/V2/v2_base_model.py</code> <pre><code>@abstractmethod\ndef set_status(self, text: str) -&gt; None:\n    \"\"\"\n    Update the chat status indicator.\n\n    Parameters\n    ----------\n    text : str\n        Status message to display (e.g., \"ready\", \"waiting\").\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.LogNotifier","title":"<code>LogNotifier</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for logging notifications.</p> <p>Provides an interface for components that need to record or clear log messages. Implementations may direct logs to console, files, UI widgets, or other sinks.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.LogNotifier.add_log","title":"<code>add_log(text)</code>  <code>abstractmethod</code>","text":"<p>Add a log entry.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.LogNotifier.add_log--parameters","title":"Parameters","text":"<p>text : str     The log message to record.</p> Source code in <code>src/aloegraph/V2/v2_base_model.py</code> <pre><code>@abstractmethod\ndef add_log(self, text: str) -&gt; None:\n    \"\"\"\n    Add a log entry.\n\n    Parameters\n    ----------\n    text : str\n        The log message to record.\n    \"\"\"\n    print(f\"   LOG &gt; {text}\")\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.LogNotifier.clear_log","title":"<code>clear_log()</code>  <code>abstractmethod</code>","text":"<p>Clear all log entries.</p> Source code in <code>src/aloegraph/V2/v2_base_model.py</code> <pre><code>@abstractmethod\ndef clear_log(self) -&gt; None:\n    \"\"\"\n    Clear all log entries.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.NodeRenderShape","title":"<code>NodeRenderShape</code>","text":"<p>               Bases: <code>StrEnum</code></p> <p>Enumeration of node render shapes for Mermaid diagrams.</p> <p>Used with <code>AloeNode</code> to control how nodes are displayed in generated flowcharts or state diagrams.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.V2AloeConfig","title":"<code>V2AloeConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration state object for <code>V2AloeGraph</code>.</p> <p>This model captures the transient state of a graph execution, including user and agent messages, error information, and control flags used to manage graph traversal.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_model/#aloegraph.V2.v2_base_model.V2AloeConfig--attributes","title":"Attributes","text":"<p>user_message : str, optional     The most recent message provided by the user. agent_message : str, optional     The most recent message generated by the agent. error_message : str, optional     Error details if the agent or graph encountered a failure. EDGE : str, optional     Identifier for the current edge being traversed. CONTINUE : str, optional     Control flag indicating continuation of graph execution. INTERRUPT : str, optional     Control flag indicating interruption of graph execution. RESUME : str, optional     Control flag indicating resumption of graph execution.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_response/","title":"V2 base response","text":""},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response--v2_base_response","title":"v2_base_response","text":"<ul> <li>Module: <code>src/aloegraph/V2/v2_base_response.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Defines the abstract base response model for AloeGraph V2 agents.</p> <p>This module provides <code>BaseResponse</code>, a Pydantic + ABC hybrid class that establishes the common schema for agent responses. It ensures consistent validation of response fields while requiring subclasses to implement a standardized system instruction method.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response--overview","title":"Overview","text":"<ul> <li>BaseResponse:   Abstract class combining Pydantic's data validation with an abstract   interface for agent system prompts. All agent response types in AloeGraph   should inherit from this base to guarantee a consistent contract.</li> </ul>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response--attributes","title":"Attributes","text":"<ul> <li><code>success</code> : bool     Indicates whether the operation succeeded.</li> <li><code>agent_message</code> : str     Message intended for the user, generated by the agent.</li> <li><code>error_message</code> : str     Error details if the operation failed.</li> </ul>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response--abstract-methods","title":"Abstract Methods","text":"<ul> <li><code>SYSTEM_INSTRUCTION(agent_name, agent_description)</code>:     Must be implemented by subclasses to return the system prompt string     that guides agent behavior. This enforces a consistent interface for     constructing agent instructions across different response types.</li> </ul>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response--usage","title":"Usage","text":"<p>Subclass <code>BaseResponse</code> to define specific agent response schemas and system instructions:</p> <pre><code>class ChatAgentResponse(BaseResponse):\n    @classmethod\n    def SYSTEM_INSTRUCTION(cls, agent_name: str, agent_description: str) -&gt; str:\n        return f\"{agent_name}: {agent_description}\"\n</code></pre>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response.BaseResponse","title":"<code>BaseResponse</code>","text":"<p>               Bases: <code>BaseModel</code>, <code>ABC</code></p> <p>Abstract base class for agent responses.</p> <p>This class defines the common schema for responses returned by chat agents in the AloeGraph framework. It combines Pydantic's validation and field descriptions with an abstract interface for generating system instructions.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response.BaseResponse--attributes","title":"Attributes","text":"<p>success : bool     Flag indicating whether the operation succeeded. Defaults to False. agent_message : str     The message intended for the user, typically generated by the agent. error_message : str     Error details if the operation failed. Empty string if no error occurred.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response.BaseResponse.SYSTEM_INSTRUCTION","title":"<code>SYSTEM_INSTRUCTION(agent_name, agent_description)</code>  <code>abstractmethod</code> <code>classmethod</code>","text":"<p>Construct the system prompt for this agent type.</p> <p>This method must be implemented by subclasses to provide the instruction text that guides the agent's behavior. The instruction typically encodes the agent's role, purpose, or constraints.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response.BaseResponse.SYSTEM_INSTRUCTION--parameters","title":"Parameters","text":"<p>agent_name : str     The name of the agent (used for identification in prompts). agent_description : str     A human-readable description of the agent's purpose or role.</p>"},{"location":"api_reference/aloegraph/V2/v2_base_response/#aloegraph.V2.v2_base_response.BaseResponse.SYSTEM_INSTRUCTION--returns","title":"Returns","text":"<p>str     The system instruction string to be used in prompt construction.</p> Source code in <code>src/aloegraph/V2/v2_base_response.py</code> <pre><code>@classmethod\n@abstractmethod\ndef SYSTEM_INSTRUCTION(cls, agent_name: str, agent_description: str) -&gt; str:\n    \"\"\"\n    Construct the system prompt for this agent type.\n\n    This method must be implemented by subclasses to provide the\n    instruction text that guides the agent's behavior. The instruction\n    typically encodes the agent's role, purpose, or constraints.\n\n    Parameters\n    ----------\n    agent_name : str\n        The name of the agent (used for identification in prompts).\n    agent_description : str\n        A human-readable description of the agent's purpose or role.\n\n    Returns\n    -------\n    str\n        The system instruction string to be used in prompt construction.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/","title":"V2 chat agent","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent--v2_chat_agent","title":"v2_chat_agent","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_chat_agent.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Graph implementation of the Chat Agent in AloeGraph V2.</p> <p>This module defines <code>ChatAgent</code>, the orchestrator of full chat workflows. It integrates the Intake Agent (triage) and Router Agent (task routing), manages conversation state, and ensures that user and agent messages are logged and delivered consistently.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent--overview","title":"Overview","text":"<ul> <li>ChatAgent:</li> <li>Entry point for chat workflows (<code>invoke_intake</code>).</li> <li>Decides whether to respond directly or route requests downstream.</li> <li>Invokes Router Agent when routing is required.</li> <li>Pushes agent messages to the chat log and notifies replies.</li> <li>Supports auto\u2011resume for multi\u2011turn routing workflows.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent--integration","title":"Integration","text":"<ul> <li>Works in tandem with:<ul> <li><code>ChatAgentState</code> \u2014 holds intake, routing, and chat log state.</li> <li><code>IntakeAgent</code> \u2014 triages user messages.</li> <li><code>RouterAgent</code> \u2014 routes task\u2011oriented requests.</li> <li><code>ChatNotifier</code> \u2014 delivers agent replies externally.</li> </ul> </li> <li>Serves as the top\u2011level agent graph coordinating intake and routing.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    U[User Message] --&gt; I[invoke_intake]\n    I --&gt;|should_route=True| R[invoke_route]\n    I --&gt;|should_route=False| CM[chat_message]\n    R --&gt; CM\n    CM --&gt; AR[auto_resume]\n    AR --&gt;|resume=True| R\n    AR --&gt;|resume=False| End[END]\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent.ChatAgent","title":"<code>ChatAgent(initial_state, intake_agent, router_agent, reply_notifier=None)</code>","text":"<p>               Bases: <code>V2AloeGraph[ChatAgentState]</code>, <code>ChatAgent</code></p> <p>Chat agent graph for AloeGraph V2.</p> <p><code>ChatAgent</code> extends <code>V2AloeGraph</code> and <code>ChatAgent</code> base functionality to orchestrate full chat workflows. It integrates the Intake Agent and Router Agent, manages conversation state, and ensures that user and agent messages are logged and delivered consistently.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent.ChatAgent--responsibilities","title":"Responsibilities","text":"<ul> <li>Define graph nodes for the chat workflow:<ul> <li><code>invoke_intake</code> \u2014 entry node; pushes user message, invokes Intake Agent,   and decides whether to route or reply directly.</li> <li><code>invoke_route</code> \u2014 invokes the Router Agent when routing is required.</li> <li><code>chat_message</code> \u2014 pushes agent message to the chat log and notifies reply.</li> <li><code>auto_resume</code> \u2014 decides whether to resume routing or end the workflow.</li> </ul> </li> <li>Manage conversation state (<code>ChatAgentState</code>) including intake and routing   sub\u2011states.</li> <li>Integrate with <code>ChatNotifier</code> to deliver agent replies externally.</li> <li>Validate dependencies and compile sub\u2011agents via <code>preflight</code>.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent.ChatAgent--attributes","title":"Attributes","text":"<p>state : ChatAgentState     Current chat state, including intake, routing, and chat log. intake_agent : IntakeAgent     Sub\u2011agent responsible for triage decisions. router_agent : RouterAgent     Sub\u2011agent responsible for routing task\u2011oriented requests. reply_notifier : ChatNotifier     Notifier used to deliver agent replies to external systems.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent.ChatAgent--methods","title":"Methods","text":"<p>invoke_intake(state) -&gt; ChatAgentState     Entry node; processes user message, invokes Intake Agent, and sets edge. invoke_route(state) -&gt; ChatAgentState     Invokes Router Agent and updates agent message. chat_message(state) -&gt; ChatAgentState     Pushes agent message to chat log and notifies reply. auto_resume(state) -&gt; ChatAgentState     Decides whether to resume routing or end workflow. preflight() -&gt; bool     Validates dependencies and compiles sub\u2011agents if needed. compile(reply_notifier, graph_name) -&gt; None     Compiles the chat agent graph with notifier and name. notify(msg) -&gt; str     Sends a user message into the workflow and invokes the graph. set_dialog(dialog) -&gt; None     Not implemented; use <code>ChatNotifier</code> instead.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_agent/#aloegraph.V2.agent.v2_chat_agent.ChatAgent--example","title":"Example","text":"<pre><code>from aloegraph.V2.agent.v2_chat_model import ChatAgentState\nfrom aloegraph.V2.agent.v2_intake_agent import IntakeAgent\nfrom aloegraph.V2.agent.v2_router_agent import RouterAgent\nfrom aloegraph.V2.v2_base_model import ChatNotifier\n\ninitial_state = ChatAgentState()\nintake = IntakeAgent(initial_state.intake_agent_state, response_generator)\nrouter = RouterAgent(initial_state.router_agent_state, response_generator)\nnotifier = ChatNotifier()\n\nagent = ChatAgent(initial_state, intake, router, notifier)\nagent.compile(reply_notifier=notifier, graph_name=\"chat_agent\")\n\nagent.notify(\"Hello, what can you do?\")\n</code></pre> Source code in <code>src/aloegraph/V2/agent/v2_chat_agent.py</code> <pre><code>def __init__(self,\n             initial_state: v2_chat_model.ChatAgentState,\n             intake_agent: v2_intake_agent.IntakeAgent,\n             router_agent: v2_router_agent.RouterAgent,\n             reply_notifier: v2_base_model.ChatNotifier = None):\n    self.state = initial_state\n    self.intake_agent = intake_agent\n    self.router_agent = router_agent\n    self.reply_notifier = reply_notifier\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/","title":"V2 chat model","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model--v2_chat_agent_model","title":"v2_chat_agent_model","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_chat_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>State object for managing chat sessions in AloeGraph V2.</p> <p>This module defines <code>ChatAgentState</code>, which extends <code>V2AloeConfig</code> to track the full lifecycle of a conversation. It integrates intake and routing states with a chronological chat log, ensuring that all user and agent messages are recorded with sequence IDs and timestamps.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model--overview","title":"Overview","text":"<ul> <li>ChatAgentState:</li> <li>Maintains a <code>chat_log</code> of messages with sequence IDs and timestamps.</li> <li>Holds nested <code>IntakeAgentState</code> and <code>RouterAgentState</code> objects for     triage and routing decisions.</li> <li>Provides helper methods to push user and agent messages into the log.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model--integration","title":"Integration","text":"<ul> <li>Serves as the central state object for chat workflows in AloeGraph.</li> <li>Works in tandem with:<ul> <li><code>IntakeAgent</code> \u2014 triages user messages at the start of a workflow.</li> <li><code>RouterAgent</code> \u2014 routes task\u2011oriented requests to downstream agents.</li> </ul> </li> <li>Ensures reproducibility and transparency by logging every message.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    U[User Message] --&gt; I[IntakeAgentState]\n    I --&gt; R[RouterAgentState]\n    R --&gt; C[ChatAgentState.chat_log]\n    C --&gt; End[Conversation Record]\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model.ChatAgentState","title":"<code>ChatAgentState</code>","text":"<p>               Bases: <code>V2AloeConfig</code></p> <p>State object for the Chat Agent in AloeGraph V2.</p> <p>Extends <code>V2AloeConfig</code> to track the full lifecycle of a chat session, including intake decisions, routing state, and a chronological log of user and agent messages. This state object acts as the central record of conversation flow.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model.ChatAgentState--responsibilities","title":"Responsibilities","text":"<ul> <li>Maintain a <code>chat_log</code> of all messages exchanged between user and agent.</li> <li>Increment and track a <code>chat_sequence_counter</code> for ordered message IDs.</li> <li>Hold nested state objects for:<ul> <li><code>intake_agent_state</code> \u2014 triage decisions at the start of a workflow.</li> <li><code>router_agent_state</code> \u2014 routing decisions and downstream agent state.</li> </ul> </li> <li>Provide helper methods to push user and agent messages into the log.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model.ChatAgentState--attributes","title":"Attributes","text":"<p>chat_log : list[ChatMessage]     Chronological list of all messages in the conversation. chat_sequence_counter : int     Counter used to assign sequential IDs to messages. intake_agent_state : IntakeAgentState     Nested state object for the Intake Agent. router_agent_state : RouterAgentState     Nested state object for the Router Agent.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model.ChatAgentState--methods","title":"Methods","text":"<p>push_user_message(state: V2AloeConfig) -&gt; ChatMessage     Append a user message from the given state to the chat log. push_agent_message(state: V2AloeConfig) -&gt; ChatMessage     Append an agent message from the given state to the chat log. push_message(role: str, msg: str, error: str) -&gt; ChatMessage     Append a message with the given role, content, and error to the log,     incrementing the sequence counter and timestamping the entry.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_chat_model/#aloegraph.V2.agent.v2_chat_model.ChatAgentState--example","title":"Example","text":"<pre><code>state = ChatAgentState()\nuser_state = v2_base_model.V2AloeConfig(user_message=\"Hello!\")\nstate.push_user_message(user_state)\n\n&gt; ChatMessage(sequence_id=1, role=\"User\", content=\"Hello!\", ...)\n</code></pre> <pre><code>agent_state = v2_base_model.V2AloeConfig(agent_message=\"Hi there!\")\nstate.push_agent_message(agent_state)\n\n&gt; ChatMessage(sequence_id=2, role=\"Agent\", content=\"Hi there!\", ...)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/","title":"V2 intake agent","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent--v2_intake_agent","title":"v2_intake_agent","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_intake_agent.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Graph implementation of the Intake Agent in AloeGraph V2.</p> <p>This module defines <code>IntakeAgent</code>, a specialized <code>V2AloeGraph</code> that serves as the entry point for AloeGraph workflows. The Intake Agent\u2019s role is triage: it reads the user\u2019s latest message, decides whether to respond directly or forward the request to the Router Agent, and updates the intake state accordingly.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent--overview","title":"Overview","text":"<ul> <li>IntakeAgent:   A graph that:<ul> <li>Defines the entry node <code>ProcessUserRequest</code>, which evaluates the   user\u2019s message and produces an <code>IntakeAgentResponse</code>.</li> <li>Updates the <code>IntakeAgentState</code> with routing decisions (<code>should_route</code>)   and direct replies (<code>agent_message</code>).</li> <li>Integrates with a <code>JSONResponseGeneratorBase[IntakeAgentResponse]</code>   to enforce structured outputs and schema validation.</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent--integration","title":"Integration","text":"<ul> <li>Works in tandem with:<ul> <li><code>IntakeAgentState</code> \u2014 holds the routing flag and user/agent messages.</li> <li><code>IntakeAgentResponse</code> \u2014 structured output schema for triage decisions.</li> </ul> </li> <li>Serves as the first stage in the AloeGraph pipeline before the Router Agent.</li> <li>If <code>should_route=True</code>, the Router Agent takes over; if <code>False</code>, the   Intake Agent responds directly.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    U[User Message] --&gt; I[IntakeAgent.ProcessUserRequest]\n    I --&gt; R[RouterAgent]:::route\n    I --&gt; M[Direct Intake Reply]:::direct\n    R --&gt; Downstream[Route Nodes / Tasks]\n    M --&gt; End[END]\n\n    classDef route fill=#f9f,stroke=#333,stroke-width=1px;\n    classDef direct fill=#bbf,stroke=#333,stroke-width=1px;\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent.IntakeAgent","title":"<code>IntakeAgent(initial_state, response_generator)</code>","text":"<p>               Bases: <code>V2AloeGraph[IntakeAgentState]</code></p> <p>Intake agent graph for AloeGraph V2.</p> <p>The Intake Agent is the entry point of the AloeGraph workflow. Its role is triage: it reads the user\u2019s latest message, decides whether to respond directly or forward the request to the Router Agent, and updates the intake state accordingly. This ensures that system\u2011level questions are answered immediately, while task\u2011oriented requests are routed downstream.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent.IntakeAgent--responsibilities","title":"Responsibilities","text":"<ul> <li>Define the entry node (<code>ProcessUserRequest</code>) that evaluates the user\u2019s   message and produces an <code>IntakeAgentResponse</code>.</li> <li>Update the <code>IntakeAgentState</code> with:<ul> <li><code>should_route</code> \u2014 whether to forward the message to the Router Agent.</li> <li><code>agent_message</code> \u2014 direct reply to the user if routing is not required.</li> </ul> </li> <li>Integrate with a <code>JSONResponseGeneratorBase[IntakeAgentResponse]</code> to   enforce structured outputs and schema validation.</li> <li>Serve as the first stage in the AloeGraph pipeline before routing.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent.IntakeAgent--attributes","title":"Attributes","text":"<p>state : IntakeAgentState     The current intake state, including user message, agent message,     and routing flag. response_generator : JSONResponseGeneratorBase[IntakeAgentResponse]     Generator used to produce structured intake responses.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent.IntakeAgent--methods","title":"Methods","text":"<p>ProcessUserRequest(state) -&gt; IntakeAgentState     Entry node that processes the user\u2019s message, generates a response,     and updates the intake state with routing decisions.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_agent/#aloegraph.V2.agent.v2_intake_agent.IntakeAgent--example","title":"Example","text":"<pre><code>from aloegraph.V2.agent.v2_intake_model import IntakeAgentState\nfrom aloegraph.V2.agent.v2_intake_response import IntakeAgentResponse\nfrom aloegraph.V2.response_generator import GeminiJSONResponseGenerator\n\n# Initialize intake agent\ninitial_state = IntakeAgentState(user_message=\"What is AloeGraph?\")\nresponse_gen = GeminiJSONResponseGenerator[IntakeAgentResponse](\n    client, \"IntakeAgent\", \"Handles triage of user requests\"\n)\nagent = IntakeAgent(initial_state, response_gen)\n\n# Compile and run intake workflow\nagent.compile()\nfinal_state = agent.invoke(initial_state)\n\nprint(final_state.should_route)   # False (direct response)\nprint(final_state.agent_message)  # \"AloeGraph is ...\"\n</code></pre> Source code in <code>src/aloegraph/V2/agent/v2_intake_agent.py</code> <pre><code>def __init__(self, initial_state: v2_intake_model.IntakeAgentState, response_generator: JSONResponseGeneratorBase[v2_intake_response.IntakeAgentResponse]):\n    self.state = initial_state\n    self.response_generator = response_generator\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/","title":"V2 intake model","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model--v2_intake_model","title":"v2_intake_model","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_intake_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>State object for the Intake Agent in AloeGraph V2.</p> <p>This module defines <code>IntakeAgentState</code>, which extends <code>V2AloeConfig</code> to include a routing flag (<code>should_route</code>). The Intake Agent uses this state to triage user messages at the very beginning of the AloeGraph workflow, deciding whether to respond directly or forward the request to the Router Agent.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model--overview","title":"Overview","text":"<ul> <li>IntakeAgentState:   Extends <code>V2AloeConfig</code> with:<ul> <li><code>should_route</code> \u2014 flag indicating whether the message should be   handed off to the Router Agent (<code>True</code>) or handled directly (<code>False</code>).</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model--integration","title":"Integration","text":"<ul> <li>Works in tandem with <code>IntakeAgentResponse</code>, which provides the structured   output for triage decisions.</li> <li>Serves as the entry point state for routing workflows in AloeGraph.</li> <li>If <code>should_route=True</code>, the Router Agent takes over; if <code>False</code>, the   Intake Agent responds directly.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    U[User Message] --&gt; S[IntakeAgentState]\n    S --&gt;|should_route=True| R[RouterAgent]\n    S --&gt;|should_route=False| M[Direct Intake Reply]\n    R --&gt; Downstream[Route Nodes / Tasks]\n    M --&gt; End[END]\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model.IntakeAgentState","title":"<code>IntakeAgentState</code>","text":"<p>               Bases: <code>V2AloeConfig</code></p> <p>State object for the Intake Agent in AloeGraph V2.</p> <p>Extends <code>V2AloeConfig</code> to include a routing flag that indicates whether the user\u2019s message should be forwarded to the Router Agent or handled directly by the Intake Agent. This state is used at the very beginning of the AloeGraph workflow to triage incoming messages.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model.IntakeAgentState--attributes","title":"Attributes","text":"<p>should_route : bool, default False     Flag indicating whether the Intake Agent should forward the user\u2019s     message to the Router Agent (<code>True</code>) or respond directly (<code>False</code>).</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model.IntakeAgentState--notes","title":"Notes","text":"<ul> <li>Inherits all fields from <code>V2AloeConfig</code> (user message, agent message,   error message, and control flags).</li> <li>Designed to integrate with <code>IntakeAgentResponse</code>, which provides the   structured output for triage decisions.</li> <li>Acts as the entry point state for routing workflows in AloeGraph.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_model/#aloegraph.V2.agent.v2_intake_model.IntakeAgentState--example","title":"Example","text":"<p>state = IntakeAgentState(user_message=\"What is AloeGraph?\") state.should_route = False print(state.user_message)   # \"What is AloeGraph?\" print(state.should_route)   # False</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/","title":"V2 intake response","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response--v2_intake_response","title":"v2_intake_response","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_intake_response.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Response schema for the Intake Agent in AloeGraph V2.</p> <p>This module defines <code>IntakeAgentResponse</code>, the structured output used by the Intake Agent to triage user messages. The Intake Agent sits at the front of the AloeGraph workflow, deciding whether to respond directly to system\u2011level questions or forward the request to the Router Agent for task execution.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response--overview","title":"Overview","text":"<ul> <li>IntakeAgentResponse:   Extends <code>BaseResponse</code> with fields for:<ul> <li><code>should_route</code> \u2014 flag indicating whether the message should be   handed off to the Router Agent.</li> <li><code>agent_message</code> \u2014 direct reply to the user if routing is not   required.</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response--integration","title":"Integration","text":"<p>The Intake Agent is the first stage in the AloeGraph pipeline: - If the user asks about the system itself (e.g., what the agent is,   how it works, onboarding questions), the Intake Agent responds   directly. - If the user\u2019s request involves tasks, content generation, or   application\u2011specific routes, the Intake Agent sets <code>should_route=True</code>   and forwards the message to the Router Agent.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    U[User Message] --&gt; I[IntakeAgent]\n    I --&gt;|should_route=True| R[RouterAgent]\n    I --&gt;|should_route=False| M[Direct Agent Reply]\n    R --&gt; Downstream[Route Nodes / Tasks]\n    M --&gt; End[END]\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response.IntakeAgentResponse","title":"<code>IntakeAgentResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Response schema for the Intake Agent in AloeGraph V2.</p> <p>The Intake Agent is responsible for triaging user messages: deciding whether to respond directly or forward the request to the Router Agent. This schema captures that decision and provides either a direct message or a routing flag.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response.IntakeAgentResponse--attributes","title":"Attributes","text":"<p>should_route : bool, default False     True if the user message should be routed to the Router Agent.     False if the Intake Agent should respond directly. agent_message : str, optional     Direct response to the user if <code>should_route</code> is False. Ignored     when <code>should_route</code> is True.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response.IntakeAgentResponse--class-methods","title":"Class Methods","text":"<p>SYSTEM_INSTRUCTION(agent_name, agent_description) -&gt; str     Construct the system prompt for the Intake Agent. This prompt     guides the agent to decide whether to respond directly or hand     off to the Router Agent, and includes the JSON schema for     validation.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_intake_response/#aloegraph.V2.agent.v2_intake_response.IntakeAgentResponse--example","title":"Example","text":"<pre><code> response = IntakeAgentResponse(\n     should_route=False,\n     agent_message=\"I am the Intake Agent. My role is triage.\"\n )\n print(response.should_route)   # False\n print(response.agent_message)  # \"I am the Intake Agent. My role is triage.\"\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/","title":"V2 refinement agent","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent--v2_refinement_agent","title":"v2_refinement_agent","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_refinement_agent.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Graph implementation of the refinement agent in AloeGraph V2.</p> <p>This module defines <code>RefinementAgent</code>, a specialized <code>V2AloeGraph</code> that orchestrates iterative refinement workflows. It guides the user through cycles of requesting refinements, applying them to items, committing results, and handling interrupts or resumes. Each stage of the workflow is represented as a graph node, with transitions defined by <code>@AloeNode</code> and <code>@AloeEdge</code> decorators.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent--overview","title":"Overview","text":"<ul> <li>RefinementAgent:   A graph that:<ul> <li>Starts in <code>check_auto_request</code> to decide whether refinements should   be requested automatically.</li> <li>Moves into <code>ready</code> state when awaiting user input.</li> <li>Handles interrupts (<code>ready_interrupt</code>, <code>refining_interrupt</code>) and   resumes (<code>ready_resume</code>, <code>refining_resume</code>) gracefully.</li> <li>Requests refinements via <code>request_refinements</code> and processes them   in <code>process_metarefinements</code>.</li> <li>Decides whether refinements exist (<code>check_has_refinements</code>) and   transitions into <code>refining</code> or back to <code>ready</code>.</li> <li>Commits refinements (<code>commit</code>) and checks whether to auto\u2011continue   (<code>check_auto_continue</code>).</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent--integration","title":"Integration","text":"<p>The agent uses <code>JSONResponseGeneratorBase</code> instances to enforce structured outputs for each refinement state: - <code>RefinementAgentReadyInterruptResponse</code> - <code>RefinementAgentReadyResumeResponse</code> - <code>RefinementAgentRefiningInterruptResponse</code> - <code>RefinementAgentRefiningResumeResponse</code> - <code>RefinementAgentRequestRefinementsResponse</code></p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    Start[check_auto_request] --&gt; Ready[ready]\n    Start --&gt; Request[request_refinements]\n\n    Ready --&gt;|Interrupt| RI[ready_interrupt]\n    RI --&gt; RR[ready_resume]\n    RR --&gt; Ready\n    RR --&gt; Request\n    RR --&gt; End[END]\n\n    Request --&gt; Process[process_metarefinements]\n    Process --&gt; Check[check_has_refinements]\n\n    Check --&gt;|Has refinements| Refining[refining]\n    Check --&gt;|No refinements| Ready\n\n    Refining --&gt;|Interrupt| FI[refining_interrupt]\n    FI --&gt; FR[refining_resume]\n    FR --&gt; Refining\n    FR --&gt; Commit[commit]\n    FR --&gt; Request\n\n    Commit --&gt; Auto[check_auto_continue]\n    Auto --&gt;|auto_continue=True| End\n    Auto --&gt;|auto_continue=False| Start\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent.RefinementAgent","title":"<code>RefinementAgent(initial_state, ready_interrupt_response_generator, ready_resume_response_generator, refinement_interrupt_response_generator, refinement_resume_response_generator, request_refinement_response_generator)</code>","text":"<p>               Bases: <code>V2AloeGraph[RefinementAgentState]</code></p> <p>Refinement agent graph for AloeGraph V2.</p> <p><code>RefinementAgent</code> extends <code>V2AloeGraph</code> to implement iterative refinement workflows. It guides the user through cycles of requesting refinements, applying them to items, committing results, and handling interrupts or resumes. Each stage of the workflow is represented as a graph node, with transitions defined by <code>@AloeNode</code> and <code>@AloeEdge</code> decorators.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent.RefinementAgent--responsibilities","title":"Responsibilities","text":"<ul> <li>Manage refinement state (<code>RefinementAgentState</code>) including refinements,   refinable items, and automation flags.</li> <li>Define graph nodes for key refinement stages:<ul> <li><code>check_auto_request</code> \u2014 entry point, decides whether to request refinements automatically.</li> <li><code>ready</code> \u2014 idle state awaiting user input.</li> <li><code>ready_interrupt</code> \u2014 handles interrupts in the ready state.</li> <li><code>ready_resume</code> \u2014 resumes from ready state, deciding whether to continue or request refinements.</li> <li><code>request_refinements</code> \u2014 requests refinements from the user via a response generator.</li> <li><code>process_metarefinements</code> \u2014 processes meta\u2011refinements before checking availability.</li> <li><code>check_has_refinements</code> \u2014 decision node to branch into refining or return to ready.</li> <li><code>refining</code> \u2014 active refinement state.</li> <li><code>refining_interrupt</code> \u2014 handles interrupts during refinement.</li> <li><code>refining_resume</code> \u2014 resumes refinement, deciding whether to continue, commit, or request more.</li> <li><code>commit</code> \u2014 commits refinements and transitions to auto\u2011continue check.</li> <li><code>check_auto_continue</code> \u2014 decides whether to continue automatically or return to request stage.</li> </ul> </li> <li>Integrate with response generators (<code>JSONResponseGeneratorBase</code>) to   enforce structured outputs for each refinement state.</li> <li>Handle interrupts (<code>__INTERRUPT__</code>) and resumes (<code>__RESUME__</code>) gracefully   during refinement cycles.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent.RefinementAgent--attributes","title":"Attributes","text":"<p>state : RefinementAgentState     The current refinement state, including refinements, items, and flags. ready_interrupt_response_generator : JSONResponseGeneratorBase[RefinementAgentReadyInterruptResponse]     Generator for producing structured responses when interrupting in ready state. ready_resume_response_generator : JSONResponseGeneratorBase[RefinementAgentReadyResumeResponse]     Generator for producing structured responses when resuming from ready state. refinement_interrupt_response_generator : JSONResponseGeneratorBase[RefinementAgentRefiningInterruptResponse]     Generator for producing structured responses when interrupting during refinement. refinement_resume_response_generator : JSONResponseGeneratorBase[RefinementAgentRefiningResumeResponse]     Generator for producing structured responses when resuming refinement. request_refinement_response_generator : JSONResponseGeneratorBase[RefinementAgentRequestRefinementsResponse]     Generator for producing structured responses when requesting refinements.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_agent/#aloegraph.V2.agent.v2_refinement_agent.RefinementAgent--example","title":"Example","text":"<pre><code>from aloegraph.V2.agent.v2_refinement_model import RefinementAgentState\nfrom aloegraph.V2.agent.v2_refinement_response import (\n    RefinementAgentReadyInterruptResponse,\n    RefinementAgentReadyResumeResponse,\n    RefinementAgentRefiningInterruptResponse,\n    RefinementAgentRefiningResumeResponse,\n    RefinementAgentRequestRefinementsResponse,\n)\nfrom aloegraph.V2.response_generator import GeminiJSONResponseGenerator\n\n# Initialize refinement agent\ninitial_state = RefinementAgentState()\nagent = RefinementAgent(\n    initial_state,\n    ready_interrupt_response_generator=GeminiJSONResponseGenerator[RefinementAgentReadyInterruptResponse](client, \"ReadyInterrupt\", \"Handle ready interrupts\"),\n    ready_resume_response_generator=GeminiJSONResponseGenerator[RefinementAgentReadyResumeResponse](client, \"ReadyResume\", \"Resume from ready\"),\n    refinement_interrupt_response_generator=GeminiJSONResponseGenerator[RefinementAgentRefiningInterruptResponse](client, \"RefiningInterrupt\", \"Handle refining interrupts\"),\n    refinement_resume_response_generator=GeminiJSONResponseGenerator[RefinementAgentRefiningResumeResponse](client, \"RefiningResume\", \"Resume refining\"),\n    request_refinement_response_generator=GeminiJSONResponseGenerator[RefinementAgentRequestRefinementsResponse](client, \"RequestRefinements\", \"Request refinements\"),\n)\n\n# Compile and run the refinement workflow\nagent.compile()\nfinal_state = agent.invoke(initial_state)\n</code></pre> Source code in <code>src/aloegraph/V2/agent/v2_refinement_agent.py</code> <pre><code>def __init__(self,\n             initial_state: v2_refinement_model.RefinementAgentState,\n             ready_interrupt_response_generator: JSONResponseGeneratorBase[v2_refinement_response.RefinementAgentReadyInterruptResponse],\n             ready_resume_response_generator: JSONResponseGeneratorBase[v2_refinement_response.RefinementAgentReadyResumeResponse],\n             refinement_interrupt_response_generator: JSONResponseGeneratorBase[v2_refinement_response.RefinementAgentRefiningInterruptResponse],\n             refinement_resume_response_generator: JSONResponseGeneratorBase[v2_refinement_response.RefinementAgentRefiningResumeResponse],\n             request_refinement_response_generator: JSONResponseGeneratorBase[\n                 v2_refinement_response.RefinementAgentRequestRefinementsResponse]\n             ):\n    self.state = initial_state\n    self.ready_interrupt_response_generator: JSONResponseGeneratorBase[\n        v2_refinement_response.RefinementAgentReadyInterruptResponse] = ready_interrupt_response_generator\n    self.ready_resume_response_generator: JSONResponseGeneratorBase[\n        v2_refinement_response.RefinementAgentReadyResumeResponse] = ready_resume_response_generator\n    self.refinement_interrupt_response_generator: JSONResponseGeneratorBase[\n        v2_refinement_response.RefinementAgentRefiningInterruptResponse] = refinement_interrupt_response_generator\n    self.refinement_resume_response_generator: JSONResponseGeneratorBase[\n        v2_refinement_response.RefinementAgentRefiningResumeResponse] = refinement_resume_response_generator\n    self.request_refinement_response_generator: JSONResponseGeneratorBase[\n        v2_refinement_response.RefinementAgentRequestRefinementsResponse] = request_refinement_response_generator\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/","title":"V2 refinement model","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model--v2_refinement_model","title":"v2_refinement_model","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_refinement_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Core state and schema classes for refinement agents in AloeGraph V2.</p> <p>This module defines the foundational data structures used by refinement agents to manage iterative improvement workflows. Refinement agents guide users through cycles of proposing refinements, applying them to items, and deciding whether to continue, commit, or interrupt the process.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model--overview","title":"Overview","text":"<ul> <li> <p>V2Refinement:   Represents a single refinement option proposed by the agent. Serves as   a placeholder schema that can be extended with fields describing the   refinement type, content, and metadata.</p> </li> <li> <p>V2Refinable:   Represents an item subject to refinement (e.g., text, code, or structured   data). Serves as a placeholder schema that can be extended with fields   describing the item\u2019s content and refinement history.</p> </li> <li> <p>RefinementAgentState:   Extends <code>V2AloeConfig</code> to track refinements, refinable items, and   automation flags. Provides helper methods to check whether refinements   or items are present.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model--responsibilities","title":"Responsibilities","text":"<ul> <li>Provide a consistent schema for refinements and refinable items.</li> <li>Track pending refinements and current items during refinement workflows.</li> <li>Support automation flags (<code>auto_request</code>, <code>auto_continue</code>) to control   agent behavior.</li> <li>Serve as the state object passed between refinement agent nodes.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    UserMessage --&gt; State[RefinementAgentState]\n    State --&gt;|items| Refinables[V2Refinable]\n    State --&gt;|refinements| Refinements[V2Refinement]\n    Refinements --&gt; AgentDecision[Refinement Agent]\n    AgentDecision --&gt;|apply| Refinables\n    AgentDecision --&gt;|commit/continue| State\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model.RefinementAgentState","title":"<code>RefinementAgentState</code>","text":"<p>               Bases: <code>V2AloeConfig</code></p> <p>State object for refinement agents in AloeGraph V2.</p> <p>Extends <code>V2AloeConfig</code> to track refinements and refinable items during iterative improvement workflows. Used by refinement agents to manage pending refinements, current items, and automation flags.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model.RefinementAgentState--attributes","title":"Attributes","text":"<p>refinements : list[V2Refinement]     List of pending refinements proposed by the agent. items : list[V2Refinable]     Current list of items subject to refinement. auto_request : bool, default False     Flag indicating whether the agent should automatically request     refinements without explicit user input. auto_continue : bool, default False     Flag indicating whether the agent should automatically continue     refinement without waiting for user confirmation.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model.RefinementAgentState--methods","title":"Methods","text":"<p>hasItems() -&gt; int     Return the number of refinable items currently tracked. hasRefinements() -&gt; int     Return the number of pending refinements currently tracked.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model.RefinementAgentState--example","title":"Example","text":"<pre><code>state = RefinementAgentState()\nstate.items.append(V2Refinable())\nstate.refinements.append(V2Refinement())\n\nprint(state.hasItems())       # 1\nprint(state.hasRefinements()) # 1\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model.V2Refinable","title":"<code>V2Refinable</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Represents an item that can be refined in AloeGraph V2.</p> <p>A refinable item is an artifact subject to iterative improvement. Examples include draft text, structured data, or configuration objects. This class serves as a placeholder schema and can be extended with fields describing the item\u2019s content, type, and refinement history.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_model/#aloegraph.V2.agent.v2_refinement_model.V2Refinement","title":"<code>V2Refinement</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Represents a single refinement option in AloeGraph V2.</p> <p>A refinement is a proposed adjustment or improvement to an artifact (such as text, code, or configuration) that the agent can present to the user. This class serves as a placeholder schema and can be extended with fields describing the refinement type, content, and metadata.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/","title":"V2 refinement response","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response--v2_refinement_response","title":"v2_refinement_response","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_refinement_response.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Response schemas for refinement agents in AloeGraph V2.</p> <p>This module defines a set of <code>BaseResponse</code> subclasses that capture the different states and transitions of a refinement agent. Refinement agents guide users through iterative improvement of artifacts, handling interrupts, resumes, and requests for refinements in a structured way.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response--overview","title":"Overview","text":"<ul> <li> <p>RefinementAgentReadyInterruptResponse:   Used when the agent is in a \"ready\" state but must pause or stop, while   still providing a message to the user.</p> </li> <li> <p>RefinementAgentReadyResumeResponse:   Used when resuming from a \"ready\" state. Indicates whether the agent   should request refinements or continue directly.</p> </li> <li> <p>RefinementAgentRefiningInterruptResponse:   Used when the agent is actively refining but must pause or stop, while   still providing a message to the user.</p> </li> <li> <p>RefinementAgentRefiningResumeResponse:   Used when resuming from an active refining state. Indicates whether the   agent should request refinements, commit them, or auto\u2011continue.</p> </li> <li> <p>RefinementAgentRequestRefinementsResponse:   Used when the agent explicitly requests refinements from the user,   providing a list of <code>V2Refinement</code> options.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response--responsibilities","title":"Responsibilities","text":"<ul> <li>Provide structured, validated outputs for each refinement state.</li> <li>Enforce predictable transitions between ready, refining, interrupt,   resume, and request states.</li> <li>Supply system instructions that ensure agents return JSON conforming   to the expected schema.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    Ready[Ready State] --&gt;|Interrupt| RI[ReadyInterruptResponse]\n    Ready --&gt;|Resume| RR[ReadyResumeResponse]\n\n    Refining[Refining State] --&gt;|Interrupt| FI[RefiningInterruptResponse]\n    Refining --&gt;|Resume| FR[RefiningResumeResponse]\n    Refining --&gt;|Request| RQ[RequestRefinementsResponse]\n\n    RQ --&gt; Refining\n    RI --&gt; End[END]\n    FI --&gt; End\n    RR --&gt; Refining\n    FR --&gt; Commit[Commit Refinements]\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentReadyInterruptResponse","title":"<code>RefinementAgentReadyInterruptResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Response schema for interrupting the refinement agent when it is in a \"ready\" state.</p> <p>Used when the agent needs to pause or stop before beginning refinement, while still providing a message back to the user.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentReadyInterruptResponse--attributes","title":"Attributes","text":"<p>agent_message : str     The message produced by the agent to explain or acknowledge the     interrupt event.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentReadyInterruptResponse--class-methods","title":"Class Methods","text":"<p>SYSTEM_INSTRUCTION(agent_name, agent_description) -&gt; str     Returns the system prompt instructing the agent to output JSON     conforming to this schema.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentReadyResumeResponse","title":"<code>RefinementAgentReadyResumeResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Response schema for resuming the refinement agent from a \"ready\" state.</p> <p>Used when the agent is asked to continue or request refinements before moving forward.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentReadyResumeResponse--attributes","title":"Attributes","text":"<p>request_refinements : bool     True if the agent should request refinements from the user. should_continue : bool     True if the agent should continue without requesting refinements.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentReadyResumeResponse--class-methods","title":"Class Methods","text":"<p>SYSTEM_INSTRUCTION(agent_name, agent_description) -&gt; str     Returns the system prompt instructing the agent to output JSON     conforming to this schema.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRefiningInterruptResponse","title":"<code>RefinementAgentRefiningInterruptResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Response schema for interrupting the refinement agent while it is actively refining.</p> <p>Used when the agent needs to pause or stop during refinement, while still providing a message back to the user.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRefiningInterruptResponse--attributes","title":"Attributes","text":"<p>agent_message : str     The message produced by the agent to explain or acknowledge the     interrupt event.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRefiningInterruptResponse--class-methods","title":"Class Methods","text":"<p>SYSTEM_INSTRUCTION(agent_name, agent_description) -&gt; str     Returns the system prompt instructing the agent to output JSON     conforming to this schema.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRefiningResumeResponse","title":"<code>RefinementAgentRefiningResumeResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Response schema for resuming the refinement agent while it is actively refining.</p> <p>Used when the agent is asked to continue, commit refinements, or auto\u2011continue without further user input.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRefiningResumeResponse--attributes","title":"Attributes","text":"<p>request_refinements : bool     True if the agent should request additional refinements. should_commit : bool     True if the agent should commit the current refinements. should_auto_continue : bool     True if the agent should continue automatically without further     user input.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRefiningResumeResponse--class-methods","title":"Class Methods","text":"<p>SYSTEM_INSTRUCTION(agent_name, agent_description) -&gt; str     Returns the system prompt instructing the agent to output JSON     conforming to this schema.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRequestRefinementsResponse","title":"<code>RefinementAgentRequestRefinementsResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Response schema for requesting refinements from the user.</p> <p>Used when the agent needs to present a list of possible refinements and ask the user to select or provide feedback.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRequestRefinementsResponse--attributes","title":"Attributes","text":"<p>refinements : list[V2Refinement]     A list of refinement options proposed by the agent.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_refinement_response/#aloegraph.V2.agent.v2_refinement_response.RefinementAgentRequestRefinementsResponse--class-methods","title":"Class Methods","text":"<p>SYSTEM_INSTRUCTION(agent_name, agent_description) -&gt; str     Returns the system prompt instructing the agent to output JSON     conforming to this schema.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/","title":"V2 router agent","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent--v2_router_agent","title":"v2_router_agent","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_router_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Routing agent graph implementation for AloeGraph V2.</p> <p>This module defines <code>RouterAgent</code>, a specialized graph that decides whether a user message should be routed to one of several available sub\u2011graphs (<code>AloeRoute</code>) or handled directly. It extends <code>V2AloeGraph</code> with routing logic, integrates with structured response generators, and manages route registration and invocation.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent--overview","title":"Overview","text":"<ul> <li> <p>RouterAgent:   A graph that:</p> <ul> <li>Defines entry and routing nodes (<code>decide_can_route_request</code>, <code>invoke_route</code>)   using <code>@AloeNode</code> and <code>@AloeEdge</code>.</li> <li>Uses a <code>JSONResponseGeneratorBase[RouterAgentResponse]</code> to generate   validated routing decisions.</li> <li>Tracks available routes and ensures they are compiled before execution.</li> <li>Invokes selected routes, propagates state, and handles interrupts or   resumes in the routing flow.</li> </ul> </li> <li> <p>Integration:   Routes are defined as <code>AloeRoute</code> instances and registered with the agent   via <code>addRoute</code>. The agent can query available routes for a given parent   state using <code>getAvailableRoute</code>.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent--responsibilities","title":"Responsibilities","text":"<ul> <li>Provide a consistent routing mechanism within AloeGraph workflows.</li> <li>Enforce structured outputs via Pydantic response schemas.</li> <li>Support nested or hierarchical routing by referencing parent states.</li> <li>Handle interrupts (<code>__INTERRUPT__</code>) and resumes (<code>__RESUME__</code>) gracefully   during route invocation.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent--usage","title":"Usage","text":"<pre><code>from aloegraph.V2.agent.v2_router_model import RouterAgentState, RouterAgent\nfrom aloegraph.V2.agent.v2_router_response import RouterAgentResponse\nfrom aloegraph.V2.response_generator import GeminiJSONResponseGenerator\n\n# Initialize router agent\ninitial_state = RouterAgentState()\nresponse_gen = GeminiJSONResponseGenerator[RouterAgentResponse](\n    client, \"RouterAgent\", \"Routes user messages\"\n)\nrouter = RouterAgent(initial_state, response_gen)\n\n# Add routes\nrouter.addRoute(SupportRoute(), \"Support\")\nrouter.addRoute(SalesRoute(), \"Sales\")\n\n# Compile and invoke\nrouter.compile()\nfinal_state = router.invoke(initial_state)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent.RouterAgent","title":"<code>RouterAgent(initial_state, response_generator)</code>","text":"<p>               Bases: <code>V2AloeGraph[RouterAgentState[ParentStateT]]</code></p> <p>Router agent graph for AloeGraph V2.</p> <p><code>RouterAgent</code> extends <code>V2AloeGraph</code> to implement routing logic that decides whether a user message should be forwarded to a specific route or handled directly. It manages available routes, invokes them when appropriate, and integrates with a response generator to enforce structured outputs.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent.RouterAgent--responsibilities","title":"Responsibilities","text":"<ul> <li>Define entry and routing nodes (<code>decide_can_route_request</code>, <code>invoke_route</code>)   using <code>@AloeNode</code> and <code>@AloeEdge</code> decorators.</li> <li>Generate routing decisions via a <code>JSONResponseGeneratorBase</code> that   produces validated <code>RouterAgentResponse</code> objects.</li> <li>Track available routes and their initialization state.</li> <li>Invoke selected routes, propagate user messages, and handle interrupts   or resumes in the routing flow.</li> <li>Perform preflight checks to ensure all routes are compiled before   execution.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent.RouterAgent--attributes","title":"Attributes","text":"<p>state : RouterAgentState     The current routing state, including user message, agent message,     and routing metadata. routes : dict[str, AloeRoute]     Mapping of route names to <code>AloeRoute</code> instances managed by this agent. response_generator : JSONResponseGeneratorBase[RouterAgentResponse]     Generator used to produce structured routing decisions.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent.RouterAgent--methods","title":"Methods","text":"<p>decide_can_route_request(state) -&gt; RouterAgentState     Entry node that evaluates available routes and decides whether to     forward the message or respond directly. invoke_route(state) -&gt; RouterAgentState     Node that invokes the selected route, propagates state, and handles     interrupts or resumes. preflight() -&gt; bool     Ensures all routes are compiled before graph execution. addRoute(routeAgent, routeName)     Register a new route with the agent. getAvailableRoute(parent_state, route_name=None) -&gt; Union[list[AloeRoute], AloeRoute]     Retrieve available routes for the given parent state, or a specific     route by name.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_agent/#aloegraph.V2.agent.v2_router_agent.RouterAgent--example","title":"Example","text":"<pre><code>from aloegraph.V2.agent.v2_router_model import RouterAgentState\nfrom aloegraph.V2.agent.v2_router_response import RouterAgentResponse\nfrom aloegraph.V2.response_generator import GeminiJSONResponseGenerator\n\n# Initialize router agent\ninitial_state = RouterAgentState()\nresponse_gen = GeminiJSONResponseGenerator[RouterAgentResponse](client, \"RouterAgent\", \"Routes user messages\")\nrouter = RouterAgent(initial_state, response_gen)\n\n# Add routes\nrouter.addRoute(MySupportRoute(), \"Support\")\nrouter.addRoute(MySalesRoute(), \"Sales\")\n\n# Compile and invoke\nrouter.compile()\nfinal_state = router.invoke(initial_state)\n</code></pre> Source code in <code>src/aloegraph/V2/agent/v2_router_agent.py</code> <pre><code>def __init__(self, initial_state: v2_router_model.RouterAgentState, response_generator: JSONResponseGeneratorBase[v2_router_response.RouterAgentResponse]):\n    self.state = initial_state\n    self.routes: dict[str, AloeRoute] = {}\n    self.response_generator: JSONResponseGeneratorBase[\n        v2_router_response.RouterAgentResponse] = response_generator\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/","title":"V2 router model","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/#aloegraph.V2.agent.v2_router_model--v2_router_model","title":"v2_router_model","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_router_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Routing agent models for AloeGraph V2.</p> <p>This module defines the state and supporting abstractions for agents that perform routing decisions within AloeGraph. Routing agents determine whether a user message should be forwarded to a specific route or handled directly, and maintain metadata about the routing process.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/#aloegraph.V2.agent.v2_router_model--overview","title":"Overview","text":"<ul> <li> <p>RouterAgentState:   Extends <code>V2AloeConfig</code> to include routing metadata. Tracks the chosen   route (<code>__ROUTE__</code>) and optionally references a <code>parent_state</code> for   hierarchical or nested routing scenarios.</p> </li> <li> <p>Integration with AloeGraph:   Routing agents are typically implemented as subclasses of <code>V2AloeGraph</code>   with nodes and edges decorated using <code>@AloeNode</code> and <code>@AloeEdge</code>. They   use <code>JSONResponseGeneratorBase</code> to enforce structured outputs and   validate routing decisions.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/#aloegraph.V2.agent.v2_router_model--responsibilities","title":"Responsibilities","text":"<ul> <li>Provide a consistent state object for routing agents.</li> <li>Capture both the current route and parent state for context.</li> <li>Serve as the foundation for higher\u2011level router agents that integrate   with AloeGraph\u2019s execution engine.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/#aloegraph.V2.agent.v2_router_model--usage","title":"Usage","text":"<p>Define a router agent graph that uses <code>RouterAgentState</code> to track routing:</p> <pre><code>class MyRouterGraph(V2AloeGraph[RouterAgentState]):\n    @AloeNode(name=\"Start\", is_entry=True)\n    def start(self, state: RouterAgentState):\n        # Decide route based on user message\n        state.__ROUTE__ = \"Support\"\n        state.__EDGE__ = END\n        return state\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/#aloegraph.V2.agent.v2_router_model.RouterAgentState","title":"<code>RouterAgentState</code>","text":"<p>               Bases: <code>V2AloeConfig</code></p> <p>State object for router agents in AloeGraph V2.</p> <p>Extends <code>V2AloeConfig</code> to include routing metadata and parent state references. Used by router graphs to track the chosen route for a user message and maintain context when nested inside larger workflows.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/#aloegraph.V2.agent.v2_router_model.RouterAgentState--attributes","title":"Attributes","text":"<p>ROUTE : str, optional     The route selected for the current user message. <code>None</code> if no     route has been determined. parent_state : ParentStateT, optional     Reference to the parent state object. Enables hierarchical or     nested routing scenarios where the router agent operates within     a larger graph context.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_model/#aloegraph.V2.agent.v2_router_model.RouterAgentState--notes","title":"Notes","text":"<ul> <li>Inherits all fields from <code>V2AloeConfig</code> (user message, agent message,   error message, and control flags).</li> <li>Designed for use in router graphs that decide whether to forward   messages to specific routes or handle them directly.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/","title":"V2 router response","text":""},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response--v2_router_response","title":"v2_router_response","text":"<ul> <li>Module: <code>src/aloegraph/V2/agent/v2_router_response.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Defines the response schema for the Router Agent in AloeGraph V2.</p> <p>This module provides <code>RouterAgentResponse</code>, a specialized extension of <code>BaseResponse</code> that captures routing decisions made by an agent. It is used when a system needs to determine whether a user message should be forwarded to another route or handled directly by the agent.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response--overview","title":"Overview","text":"<ul> <li> <p>RouterAgentResponse:   Extends <code>BaseResponse</code> with fields for:</p> <ul> <li><code>route</code> \u2014 the chosen route for the user message</li> <li><code>should_route</code> \u2014 flag indicating whether routing should occur</li> <li><code>agent_message</code> \u2014 direct reply to the user if no routing is performed</li> </ul> </li> <li> <p>SYSTEM_INSTRUCTION:   Classmethod that constructs the system prompt for the Router Agent,   guiding it to select an appropriate route or respond directly. The   prompt includes the JSON schema for validation.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response--responsibilities","title":"Responsibilities","text":"<ul> <li>Provide a consistent schema for routing decisions.</li> <li>Enforce structured outputs via Pydantic validation.</li> <li>Supply system instructions that ensure the agent produces predictable   JSON responses.</li> </ul>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response--usage","title":"Usage","text":"<p>Subclass or use <code>RouterAgentResponse</code> in conjunction with a response generator to validate routing outputs:</p> <pre><code>from aloegraph.V2.router_agent_response import RouterAgentResponse\n\nresponse = RouterAgentResponse(\n    route=\"Support\",\n    should_route=True,\n    agent_message=\"\"\n)\n\nif response.should_route:\n    print(f\"Routing to: {response.route}\")\nelse:\n    print(f\"Agent reply: {response.agent_message}\")\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response.RouterAgentResponse","title":"<code>RouterAgentResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Response schema for the Router Agent in AloeGraph V2.</p> <p>This model extends <code>BaseResponse</code> to capture routing decisions made by a specialized agent. It determines whether a user message should be forwarded to another route or handled directly, and provides the appropriate metadata and agent message.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response.RouterAgentResponse--attributes","title":"Attributes","text":"<p>route : str, optional     The most appropriate route for the user message, chosen from the     list of available routes. <code>None</code> if no route is selected. should_route : bool, default False     Flag indicating whether the message should be routed. If True,     the <code>route</code> field must contain the target route. If False, the     agent will respond directly and <code>agent_message</code> will be used. agent_message : str     Direct response to the user if <code>should_route</code> is False. Ignored     when <code>should_route</code> is True.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response.RouterAgentResponse--class-methods","title":"Class Methods","text":"<p>SYSTEM_INSTRUCTION(agent_name, agent_description) -&gt; str     Construct the system prompt for the Router Agent. This prompt     guides the agent to select an appropriate route or respond     directly, and includes the JSON schema for validation.</p>"},{"location":"api_reference/aloegraph/V2/agent/v2_router_response/#aloegraph.V2.agent.v2_router_response.RouterAgentResponse--example","title":"Example","text":"<pre><code>response = RouterAgentResponse(\n    route=\"Support\",\n    should_route=True,\n    agent_message=\"\"\n)\nprint(response.should_route)  # True\nprint(response.route)         # \"Support\"\n</code></pre>"},{"location":"api_reference/aloegraph/V2/agent/example/","title":"Index","text":""},{"location":"api_reference/aloegraph/V2/agent/example/v2_echo_agent/","title":"V2 echo agent","text":""},{"location":"api_reference/aloegraph/V2/agent/example/v2_echo_response/","title":"V2 echo response","text":""},{"location":"api_reference/aloegraph/V2/exception/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/V2/exception/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/","title":"Base exceptions","text":""},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions--base_exceptions","title":"base_exceptions","text":"<ul> <li>Module: <code>src/aloecraft/V2/exception/base_exceptions.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Custom exception types for AloeGraph V2 compilation errors.</p> <p>This module defines the base exception <code>AloeGraphCompileError</code> and its specialized subclass <code>AloeRouteCompileError</code>. These exceptions are raised when graph or route compilation fails due to invalid configuration, missing dependencies, or type mismatches.</p>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions--overview","title":"Overview","text":"<ul> <li> <p>AloeGraphCompileError:   Base exception for all compile\u2011time errors in AloeGraph. Raised when   a graph fails to compile due to structural or configuration issues.</p> </li> <li> <p>AloeRouteCompileError:   Specialized exception for route compilation errors. Raised when a route   fails to compile due to type mismatches, missing integration with   <code>V2AloeGraph</code>, or other route\u2011specific problems.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions--integration","title":"Integration","text":"<ul> <li>Used by agent and graph classes during <code>compile()</code> and <code>preflight()</code>   checks to enforce correctness.</li> <li>Ensures contributors receive clear, descriptive error messages when   compilation fails.</li> <li>Provides a consistent error hierarchy for handling graph and route   failures separately.</li> </ul>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions--usage","title":"Usage","text":"<pre><code>from aloegraph.V2.exception.v2_compile_errors import (\n    AloeGraphCompileError,\n    AloeRouteCompileError\n)\n\n# Example: raise a general graph compile error\nraise AloeGraphCompileError(\"Graph failed to compile: missing node definition\")\n\n# Example: raise a route compile error\nraise AloeRouteCompileError(\"Route failed to compile: state mismatch\")\n</code></pre>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions.AloeGraphCompileError","title":"<code>AloeGraphCompileError(message='')</code>","text":"<p>               Bases: <code>Exception</code></p> <p>Base exception for AloeGraph compilation errors.</p> <p>Raised when a graph fails to compile due to invalid configuration, missing dependencies, or other structural issues. This serves as the root exception type for all compile\u2011time errors in AloeGraph.</p>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions.AloeGraphCompileError--attributes","title":"Attributes","text":"<p>message : str     Human\u2011readable description of the compilation error.</p>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions.AloeGraphCompileError--example","title":"Example","text":"<pre><code>raise AloeGraphCompileError(\"Graph failed to compile: missing node definition\")\n</code></pre> Source code in <code>src/aloegraph/V2/exception/base_exceptions.py</code> <pre><code>def __init__(self, message=\"\"):\n    self.message = message\n    super().__init__(self.message)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions.AloeRouteCompileError","title":"<code>AloeRouteCompileError(message='')</code>","text":"<p>               Bases: <code>AloeGraphCompileError</code></p> <p>Exception for AloeGraph route compilation errors.</p> <p>Raised when a route fails to compile due to invalid configuration, type mismatches, or missing integration with <code>V2AloeGraph</code>. Inherits from <code>AloeGraphCompileError</code> to provide more specific context for route\u2011related failures.</p>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions.AloeRouteCompileError--attributes","title":"Attributes","text":"<p>message : str     Human\u2011readable description of the route compilation error.</p>"},{"location":"api_reference/aloegraph/V2/exception/base_exceptions/#aloegraph.V2.exception.base_exceptions.AloeRouteCompileError--example","title":"Example","text":"<pre><code>raise AloeRouteCompileError(\"Route failed to compile: state mismatch\")\n</code></pre> Source code in <code>src/aloegraph/V2/exception/base_exceptions.py</code> <pre><code>def __init__(self, message=\"\"):\n    self.message = message\n    super().__init__(self.message)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/V2/graph/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/","title":"V2 aloe node","text":""},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node--v2_aloe_node-aloe_node_wrapper","title":"v2_aloe_node (aloe_node_wrapper)","text":"<ul> <li>Module: <code>src/aloegraph/V2/graph/v2_aloe_node.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Core utilities for wrapping functions as nodes and edges in AloeGraph V2.</p> <p>This module provides the <code>AloeNodeWrapper</code> class and the <code>AloeNode</code> / <code>AloeEdge</code> decorators, which together enable declarative graph construction. Functions decorated with <code>@AloeNode</code> or <code>@AloeEdge</code> are automatically wrapped with metadata describing their role in the graph, making them discoverable and executable by <code>V2AloeGraph</code>.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node--overview","title":"Overview","text":"<ul> <li> <p>AloeNodeWrapper:   Encapsulates a function and attaches metadata (<code>AloeNodeData</code> or   <code>AloeEdgeData</code>). Supports binding functions to instances, direct invocation,   and static helpers for wrapping nodes and edges.</p> </li> <li> <p>AloeNode decorator:   Marks a function as a graph node. Attaches <code>AloeNodeData</code> including name,   description, entry status, and render shape.</p> </li> <li> <p>AloeEdge decorator:   Marks a function as a graph edge. Attaches <code>AloeEdgeData</code> including target,   label, description, and interrupt flag.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node--responsibilities","title":"Responsibilities","text":"<ul> <li>Enforce initialization rules (prevent re\u2011initializing nodes or duplicate edges).</li> <li>Provide a consistent schema for nodes and edges in AloeGraph.</li> <li>Allow declarative graph definitions by simply decorating functions.</li> </ul>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node--usage","title":"Usage","text":"<p>Define nodes and edges in a subclass of <code>V2AloeGraph</code>:</p> <pre><code>from aloegraph.V2.graph.aloe_node_wrapper import AloeNode, AloeEdge\n\nclass MyGraph(V2AloeGraph[V2AloeConfig]):\n    @AloeNode(name=\"Start\", is_entry=True)\n    def start(self, state):\n        state.__EDGE__ = \"Next\"\n        return state\n\n    @AloeEdge(target=\"End\", description=\"finish\")\n    def to_end(self, state):\n        state.__EDGE__ = \"__END__\"\n        return state\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper","title":"<code>AloeNodeWrapper(fn)</code>","text":"<p>               Bases: <code>Callable</code></p> <p>Wrapper class for functions decorated as AloeGraph nodes or edges.</p> <p>This class encapsulates a function and attaches metadata describing its role in the graph. It supports both node and edge definitions, storing associated <code>AloeNodeData</code> and <code>AloeEdgeData</code>.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper--responsibilities","title":"Responsibilities","text":"<ul> <li>Bind the wrapped function to an instance when accessed as a method.</li> <li>Allow direct invocation of the wrapped function via <code>__call__</code>.</li> <li>Provide static helpers (<code>wrap_node</code>, <code>wrap_edge</code>) to attach metadata   and enforce initialization rules.</li> </ul>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper--attributes","title":"Attributes","text":"<p>node_data : AloeNodeData     Metadata describing the node (name, description, entry status, render shape). edge_map : dict[str, AloeEdgeData]     Mapping of edge names to edge metadata for outgoing edges. fn : Callable     The original function being wrapped.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node.py</code> <pre><code>def __init__(self, fn: Callable):\n    self.node_data: v2_base_model.AloeNodeData=v2_base_model.AloeNodeData()\n    self.edge_map: dict[str,v2_base_model.AloeEdgeData]={}\n    self.fn = fn\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.__call__","title":"<code>__call__(*args, **kwargs)</code>","text":"<p>Invoke the wrapped function directly.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.__call__--parameters","title":"Parameters","text":"<p>args : tuple     Positional arguments to pass to the function. *kwargs : dict     Keyword arguments to pass to the function.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.__call__--returns","title":"Returns","text":"<p>Any     The result of calling the wrapped function.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node.py</code> <pre><code>def __call__(self, *args, **kwargs):\n    \"\"\"\n    Invoke the wrapped function directly.\n\n    Parameters\n    ----------\n    *args : tuple\n        Positional arguments to pass to the function.\n    **kwargs : dict\n        Keyword arguments to pass to the function.\n\n    Returns\n    -------\n    Any\n        The result of calling the wrapped function.\n    \"\"\"        \n    return self.fn(*args, **kwargs)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.__get__","title":"<code>__get__(instance, owner)</code>","text":"<p>Bind the wrapped function to the given instance.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.__get__--parameters","title":"Parameters","text":"<p>instance : Any     The object instance to bind the function to. owner : type     The class owning the function.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.__get__--returns","title":"Returns","text":"<p>Callable     A bound function that passes <code>instance</code> as the first argument.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node.py</code> <pre><code>def __get__(self, instance, owner):\n    \"\"\"\n    Bind the wrapped function to the given instance.\n\n    Parameters\n    ----------\n    instance : Any\n        The object instance to bind the function to.\n    owner : type\n        The class owning the function.\n\n    Returns\n    -------\n    Callable\n        A bound function that passes `instance` as the first argument.\n    \"\"\"\n    return lambda *args, **kwargs: self.fn(instance, *args, **kwargs)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_edge","title":"<code>wrap_edge(fn, target, name=None, description=None, interrupt=False)</code>  <code>staticmethod</code>","text":"<p>Wrap a function as an AloeGraph edge.</p> <p>Creates or reuses an <code>AloeNodeWrapper</code> and attaches an <code>AloeEdgeData</code> entry describing the edge.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_edge--parameters","title":"Parameters","text":"<p>fn : Callable     The function to wrap. target : str     The target node name this edge points to. name : str, optional     The label for the edge. Defaults to the target name. description : str, optional     Human-readable description of the edge. interrupt : bool, default False     Whether this edge represents an interrupt in the graph flow.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_edge--returns","title":"Returns","text":"<p>AloeNodeWrapper     The wrapper with the edge metadata attached.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_edge--raises","title":"Raises","text":"<p>TypeError     If the target is empty or an edge with the same name already exists.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node.py</code> <pre><code>@staticmethod\ndef wrap_edge(fn: Callable, target:str, name:str=None, description:str=None, interrupt:bool=False):\n    \"\"\"\n    Wrap a function as an AloeGraph edge.\n\n    Creates or reuses an `AloeNodeWrapper` and attaches an `AloeEdgeData`\n    entry describing the edge.\n\n    Parameters\n    ----------\n    fn : Callable\n        The function to wrap.\n    target : str\n        The target node name this edge points to.\n    name : str, optional\n        The label for the edge. Defaults to the target name.\n    description : str, optional\n        Human-readable description of the edge.\n    interrupt : bool, default False\n        Whether this edge represents an interrupt in the graph flow.\n\n    Returns\n    -------\n    AloeNodeWrapper\n        The wrapper with the edge metadata attached.\n\n    Raises\n    ------\n    TypeError\n        If the target is empty or an edge with the same name already exists.\n    \"\"\"        \n    node_wrapper = fn if isinstance(fn, AloeNodeWrapper) else AloeNodeWrapper(fn)\n    edge_name = name or target\n    if not target:\n        raise TypeError(f\"AloeEdge target must not be empty\")\n    if edge_name in node_wrapper.edge_map:\n        raise TypeError(f\"AloeEdge with name '{edge_name}' already added to this node\")\n    node_wrapper.edge_map[edge_name] = v2_base_model.AloeEdgeData(target=target, name=edge_name, description=description, interrupt=interrupt)\n    return node_wrapper\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_node","title":"<code>wrap_node(fn, name=None, description=None, is_entry=False, node_render_shape=v2_base_model.NodeRenderShape.SQUARE)</code>  <code>staticmethod</code>","text":"<p>Wrap a function as an AloeGraph node.</p> <p>Creates or reuses an <code>AloeNodeWrapper</code> and attaches <code>AloeNodeData</code> describing the node.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_node--parameters","title":"Parameters","text":"<p>fn : Callable     The function to wrap. name : str, optional     The name of the node. Defaults to the function name. description : str, optional     Human-readable description of the node. is_entry : bool, default False     Whether this node is the entry point of the graph. node_render_shape : NodeRenderShape, default SQUARE     The visual shape used when rendering the node in diagrams.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_node--returns","title":"Returns","text":"<p>AloeNodeWrapper     The wrapper with the node metadata attached.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNodeWrapper.wrap_node--raises","title":"Raises","text":"<p>TypeError     If the node has already been initialized.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node.py</code> <pre><code>@staticmethod\ndef wrap_node(fn: Callable, name:str=None, description:str=None, is_entry:bool=False, node_render_shape: v2_base_model.NodeRenderShape = v2_base_model.NodeRenderShape.SQUARE):\n    \"\"\"\n    Wrap a function as an AloeGraph node.\n\n    Creates or reuses an `AloeNodeWrapper` and attaches `AloeNodeData`\n    describing the node.\n\n    Parameters\n    ----------\n    fn : Callable\n        The function to wrap.\n    name : str, optional\n        The name of the node. Defaults to the function name.\n    description : str, optional\n        Human-readable description of the node.\n    is_entry : bool, default False\n        Whether this node is the entry point of the graph.\n    node_render_shape : NodeRenderShape, default SQUARE\n        The visual shape used when rendering the node in diagrams.\n\n    Returns\n    -------\n    AloeNodeWrapper\n        The wrapper with the node metadata attached.\n\n    Raises\n    ------\n    TypeError\n        If the node has already been initialized.\n    \"\"\"        \n    node_wrapper = fn if isinstance(fn, AloeNodeWrapper) else AloeNodeWrapper(fn)\n    if node_wrapper.node_data._is_initialized:\n        raise TypeError(\"Attempting to reinitialize AloeNode\")\n    node_name = name or node_wrapper.fn.__name__\n    node_wrapper.node_data._is_initialized = True\n    node_wrapper.node_data.name = node_name\n    node_wrapper.node_data.description = description\n    node_wrapper.node_data.is_entry = is_entry\n    node_wrapper.node_data.node_render_shape = node_render_shape\n    return node_wrapper\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeEdge","title":"<code>AloeEdge(target, name=None, description=None, interrupt=False)</code>","text":"<p>Decorator for defining an AloeGraph edge.</p> <p>Wraps a function in an <code>AloeNodeWrapper</code> and attaches edge metadata.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeEdge--parameters","title":"Parameters","text":"<p>target : str     The target node name this edge points to. name : str, optional     The label for the edge. Defaults to the target name. description : str, optional     Human-readable description of the edge. interrupt : bool, default False     Whether this edge represents an interrupt in the graph flow.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeEdge--returns","title":"Returns","text":"<p>Callable     A decorator that wraps the function as an edge.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node.py</code> <pre><code>def AloeEdge(target:str, name:str=None, description:str=None, interrupt:bool=False):\n    \"\"\"\n    Decorator for defining an AloeGraph edge.\n\n    Wraps a function in an `AloeNodeWrapper` and attaches edge metadata.\n\n    Parameters\n    ----------\n    target : str\n        The target node name this edge points to.\n    name : str, optional\n        The label for the edge. Defaults to the target name.\n    description : str, optional\n        Human-readable description of the edge.\n    interrupt : bool, default False\n        Whether this edge represents an interrupt in the graph flow.\n\n    Returns\n    -------\n    Callable\n        A decorator that wraps the function as an edge.\n    \"\"\"    \n    def decorator(fn: Callable):\n        return AloeNodeWrapper.wrap_edge(fn, target, name, description, interrupt)\n    return decorator\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNode","title":"<code>AloeNode(name=None, description=None, is_entry=False, node_render_shape=v2_base_model.NodeRenderShape.SQUARE)</code>","text":"<p>Decorator for defining an AloeGraph node.</p> <p>Wraps a function in an <code>AloeNodeWrapper</code> and attaches node metadata.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNode--parameters","title":"Parameters","text":"<p>name : str, optional     The name of the node. Defaults to the function name. description : str, optional     Human-readable description of the node. is_entry : bool, default False     Whether this node is the entry point of the graph. node_render_shape : NodeRenderShape, default SQUARE     The visual shape used when rendering the node in diagrams.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node/#aloegraph.V2.graph.v2_aloe_node.AloeNode--returns","title":"Returns","text":"<p>Callable     A decorator that wraps the function as a node.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node.py</code> <pre><code>def AloeNode(name:str=None, description:str=None, is_entry:bool=False, node_render_shape: v2_base_model.NodeRenderShape = v2_base_model.NodeRenderShape.SQUARE):\n    \"\"\"\n    Decorator for defining an AloeGraph node.\n\n    Wraps a function in an `AloeNodeWrapper` and attaches node metadata.\n\n    Parameters\n    ----------\n    name : str, optional\n        The name of the node. Defaults to the function name.\n    description : str, optional\n        Human-readable description of the node.\n    is_entry : bool, default False\n        Whether this node is the entry point of the graph.\n    node_render_shape : NodeRenderShape, default SQUARE\n        The visual shape used when rendering the node in diagrams.\n\n    Returns\n    -------\n    Callable\n        A decorator that wraps the function as a node.\n    \"\"\"    \n    def decorator(fn: Callable):\n        return AloeNodeWrapper.wrap_node(fn, name, description, is_entry, node_render_shape)\n    return decorator\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/","title":"V2 aloe node graph","text":""},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph--v2_aloe_node_graph","title":"v2_aloe_node_graph","text":"<ul> <li>Module: <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Defines the abstract base class <code>V2AloeNodeGraph</code> for constructing declarative node\u2013edge graphs in AloeGraph V2. This module provides decorators for annotating Python functions as graph nodes or edges, automatically collecting them into a graph structure, and rendering the resulting graph as a Mermaid diagram.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph--overview","title":"Overview","text":"<ul> <li> <p>V2AloeNodeGraph:   Abstract base class for graph definitions. Subclasses declare nodes and edges   using decorators, and the class machinery collects them into a <code>nodes</code> map   at initialization.</p> </li> <li> <p>AloeNode decorator:   Marks a function as a graph node. Each node has metadata such as name,   description, entry status, and render shape (see <code>NodeRenderShape</code>).</p> </li> <li> <p>AloeEdge decorator:   Marks a function as a graph edge. Each edge connects a source node to a   target node, with optional label, description, and interrupt flag.</p> </li> <li> <p>Mermaid rendering utilities:   <code>generate_mermaid_chart</code> builds Mermaid syntax for the graph, while   <code>render_mermaid_chart</code> and <code>mermaid_chart_png</code> produce visual diagrams   for interactive display or export.</p> </li> </ul>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph--usage","title":"Usage","text":"<p>Subclass <code>V2AloeNodeGraph</code> and decorate methods with <code>@AloeNode</code> and <code>@AloeEdge</code> to define the graph declaratively. The graph can then be rendered to Mermaid syntax or exported as a PNG for visualization.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph--example","title":"Example","text":"<pre><code>class MyGraph(V2AloeNodeGraph[str]):\n    @V2AloeNodeGraph.AloeNode(name=\"Start\", is_entry=True)\n    def start(self, state: str):\n        ...\n\n    @V2AloeNodeGraph.AloeEdge(target=\"End\", description=\"finish\")\n    def to_end(self, state: str):\n        ...\n\ngraph = MyGraph(initial_state=\"ready\")\nprint(graph.generate_mermaid_chart())\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph","title":"<code>V2AloeNodeGraph(initial_state, *args, **kwargs)</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for defining AloeGraph node graphs.</p> <p>This class provides decorators for declaring nodes and edges in a graph, manages initialization of node wrappers, and includes utilities for rendering the graph as a Mermaid diagram.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph--type-parameters","title":"Type Parameters","text":"<p>StateT : Any     The type of the initial state object used to configure the graph.</p> <p>Abstract initializer for the graph.</p> <p>Subclasses must implement this to set up the initial state and any additional configuration.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph--parameters","title":"Parameters","text":"<p>initial_state : StateT     The initial state object for the graph. args : tuple     Additional positional arguments. *kwargs : dict     Additional keyword arguments.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code> <pre><code>@abstractmethod\ndef __init__(self, initial_state: StateT, *args, **kwargs):\n    \"\"\"\n    Abstract initializer for the graph.\n\n    Subclasses must implement this to set up the initial state and\n    any additional configuration.\n\n    Parameters\n    ----------\n    initial_state : StateT\n        The initial state object for the graph.\n    *args : tuple\n        Additional positional arguments.\n    **kwargs : dict\n        Additional keyword arguments.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.AloeEdge","title":"<code>AloeEdge(target, name=None, description=None, interrupt=False)</code>","text":"<p>Decorator for defining an edge between nodes.</p> <p>Wraps a function as an <code>AloeEdge</code> that connects the current node to a target node.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.AloeEdge--parameters","title":"Parameters","text":"<p>target : str     The name of the target node. name : str, optional     The label or identifier for the edge. description : str, optional     Human-readable description of the edge. interrupt : bool, default False     Whether this edge represents an interrupt in the graph flow.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.AloeEdge--returns","title":"Returns","text":"<p>Callable     A decorator that wraps the function as an edge.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code> <pre><code>def AloeEdge(self, target: str, name: str = None, description: str = None, interrupt: bool = False):\n    \"\"\"\n    Decorator for defining an edge between nodes.\n\n    Wraps a function as an `AloeEdge` that connects the current node\n    to a target node.\n\n    Parameters\n    ----------\n    target : str\n        The name of the target node.\n    name : str, optional\n        The label or identifier for the edge.\n    description : str, optional\n        Human-readable description of the edge.\n    interrupt : bool, default False\n        Whether this edge represents an interrupt in the graph flow.\n\n    Returns\n    -------\n    Callable\n        A decorator that wraps the function as an edge.\n    \"\"\"\n    self._is_initialized = False\n\n    def decorator(fn: Callable):\n        node_wrapper = v2_aloe_node.AloeNodeWrapper.wrap_edge(\n            fn, target, name, description, interrupt)\n        return node_wrapper\n    return decorator\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.AloeNode","title":"<code>AloeNode(name=None, description=None, is_entry=False, node_render_shape=v2_base_model.NodeRenderShape.SQUARE)</code>","text":"<p>Decorator for defining a node in the graph.</p> <p>Wraps a function as an <code>AloeNode</code> with associated metadata such as name, description, entry status, and render shape.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.AloeNode--parameters","title":"Parameters","text":"<p>name : str, optional     The name of the node. description : str, optional     Human-readable description of the node. is_entry : bool, default False     Whether this node is the entry point of the graph. node_render_shape : NodeRenderShape, default SQUARE     The visual shape used when rendering the node in Mermaid diagrams.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.AloeNode--returns","title":"Returns","text":"<p>Callable     A decorator that wraps the function as a node.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code> <pre><code>def AloeNode(self, name: str = None, description: str = None, is_entry: bool = False, node_render_shape: v2_base_model.NodeRenderShape = v2_base_model.NodeRenderShape.SQUARE):\n    \"\"\"\n    Decorator for defining a node in the graph.\n\n    Wraps a function as an `AloeNode` with associated metadata such as\n    name, description, entry status, and render shape.\n\n    Parameters\n    ----------\n    name : str, optional\n        The name of the node.\n    description : str, optional\n        Human-readable description of the node.\n    is_entry : bool, default False\n        Whether this node is the entry point of the graph.\n    node_render_shape : NodeRenderShape, default SQUARE\n        The visual shape used when rendering the node in Mermaid diagrams.\n\n    Returns\n    -------\n    Callable\n        A decorator that wraps the function as a node.\n    \"\"\"\n    self._is_initialized = False\n\n    def decorator(fn: Callable):\n        node_wrapper = v2_aloe_node.AloeNodeWrapper.wrap_node(\n            fn, name, description, is_entry, node_render_shape)\n        self.nodes[node_wrapper.node_data.name] = node_wrapper\n        return node_wrapper\n    return decorator\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.__init_subclass__","title":"<code>__init_subclass__(**kwargs)</code>","text":"<p>Hook called when a subclass is defined.</p> <p>Collects all <code>AloeNodeWrapper</code> instances declared in the subclass and registers them as nodes. Wraps the subclass initializer to attach the node map and initial state.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n    \"\"\"\n    Hook called when a subclass is defined.\n\n    Collects all `AloeNodeWrapper` instances declared in the subclass\n    and registers them as nodes. Wraps the subclass initializer to\n    attach the node map and initial state.\n    \"\"\"\n    super().__init_subclass__(**kwargs)\n    nodes = {}\n    for class_name, class_method in cls.__dict__.items():\n        if isinstance(class_method, v2_aloe_node.AloeNodeWrapper):\n            setattr(cls, class_name, class_method)\n            nodes[class_method.node_data.name] = class_method\n    original_init = cls.__init__\n\n    def wrapped_init(self, initial_state: StateT, *args, **kwargs):\n        self._is_initialized = False\n        self.nodes = nodes\n        self.state = initial_state\n        self.GraphName = \"\"\n        if callable(original_init):\n            original_init(self, self.state, *args, **kwargs)\n    cls.__init__ = wrapped_init\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.generate_mermaid_chart","title":"<code>generate_mermaid_chart(graph)</code>","text":"<p>Generate a Mermaid diagram definition for the graph.</p> <p>Iterates over nodes and edges to produce Mermaid syntax that can be rendered into a flowchart.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.generate_mermaid_chart--parameters","title":"Parameters","text":"<p>graph : V2AloeNodeGraph     The graph instance containing nodes and edges.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.generate_mermaid_chart--returns","title":"Returns","text":"<p>str     Mermaid syntax representing the graph.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code> <pre><code>def generate_mermaid_chart(graph) -&gt; str:\n    \"\"\"\n    Generate a Mermaid diagram definition for the graph.\n\n    Iterates over nodes and edges to produce Mermaid syntax that\n    can be rendered into a flowchart.\n\n    Parameters\n    ----------\n    graph : V2AloeNodeGraph\n        The graph instance containing nodes and edges.\n\n    Returns\n    -------\n    str\n        Mermaid syntax representing the graph.\n    \"\"\"\n    lines = [\"graph\"]\n\n    # Add Nodes\n    for name, node_wrapper in graph.nodes.items():\n        node_data = node_wrapper.node_data\n        label = node_data.name\n        description = node_data.description\n        is_entry = node_data.is_entry\n        node_contents = node_data.node_render_shape.format(\n            f\"{label}{(': '+description) if description else ''}\")\n        line = f\"{('__START__' + v2_base_model.NodeRenderShape.STADIUM.format('__START__') + f' --&gt; ')\n                  if is_entry else ''}\" + f\"{label}{node_contents}\"\n        lines.append(line)\n\n    # Add Edges\n    for node_name, node_wrapper in graph.nodes.items():\n        for edge_name, edge_data in node_wrapper.edge_map.items():\n            target = edge_data.target\n            label = edge_data.description\n\n            if target == END:\n                lines.append(\n                    f'{node_name} --&gt; {END}{v2_base_model.NodeRenderShape.STADIUM.format(END)}')\n            else:\n                if label:\n                    lines.append(f'{node_name} --&gt;|{label}| {target}')\n                else:\n                    lines.append(f'{node_name} --&gt; {target}')\n\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.mermaid_chart_png","title":"<code>mermaid_chart_png(path)</code>","text":"<p>Export the graph as a PNG image.</p> <p>Generates Mermaid syntax, renders the graph, and saves it to the specified file path.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.mermaid_chart_png--parameters","title":"Parameters","text":"<p>path : str     The file path where the PNG image will be saved.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code> <pre><code>def mermaid_chart_png(self, path):\n    \"\"\"\n    Export the graph as a PNG image.\n\n    Generates Mermaid syntax, renders the graph, and saves it to\n    the specified file path.\n\n    Parameters\n    ----------\n    path : str\n        The file path where the PNG image will be saved.\n    \"\"\"\n    mermaid_syntax = self.generate_mermaid_chart()\n    graph = Graph('My-AloeGraph', mermaid_syntax)\n    render = md.Mermaid(graph)\n    render.to_png(path=path)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.render_mermaid_chart","title":"<code>render_mermaid_chart()</code>","text":"<p>Render the graph as a Mermaid diagram object.</p> <p>Uses the generated Mermaid syntax to create a <code>Graph</code> and wrap it in a <code>Mermaid</code> object for display.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_node_graph/#aloegraph.V2.graph.v2_aloe_node_graph.V2AloeNodeGraph.render_mermaid_chart--returns","title":"Returns","text":"<p>Mermaid     A Mermaid diagram object representing the graph.</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_node_graph.py</code> <pre><code>def render_mermaid_chart(self):\n    \"\"\"\n    Render the graph as a Mermaid diagram object.\n\n    Uses the generated Mermaid syntax to create a `Graph` and wrap\n    it in a `Mermaid` object for display.\n\n    Returns\n    -------\n    Mermaid\n        A Mermaid diagram object representing the graph.\n    \"\"\"\n    mermaid_syntax = self.generate_mermaid_chart()\n    graph = Graph('My-AloeGraph', mermaid_syntax)\n    return md.Mermaid(graph)\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/","title":"V2 aloe route","text":""},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route--v2_aloe_route","title":"v2_aloe_route","text":"<ul> <li>Module: <code>src/aloegraph/V2/graph/v2_aloe_route.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Abstract base class for defining routes in AloeGraph V2.</p> <p>This module provides <code>AloeRoute</code>, the contract for implementing routes that can be invoked by a <code>RouterAgent</code>. A route represents a sub\u2011graph or workflow that handles a specific type of user message. Each route must describe itself, indicate availability, and manage its internal state. Routes are parameterized by a parent state type and their own state type, both extending <code>V2AloeConfig</code>.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route--overview","title":"Overview","text":"<ul> <li>AloeRoute:   Abstract base class requiring implementations of:<ul> <li><code>describeRoute(parent_state)</code> \u2014 human\u2011readable description of the route.</li> <li><code>isAvailable(parent_state)</code> \u2014 whether the route can be invoked.</li> <li><code>getRouteState(parent_state)</code> \u2014 retrieve the route\u2019s internal state.</li> <li><code>setRouteState(parent_state, state)</code> \u2014 update the parent state with   results from the route.</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route--integration","title":"Integration","text":"<p>Routes are registered with a <code>RouterAgent</code> via <code>addRoute</code>. The agent uses <code>describeRoute</code> and <code>isAvailable</code> to present options to the user and decide whether to invoke a route. When invoked, the route\u2019s state is propagated back into the parent state.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route--mermaid-diagram","title":"Mermaid Diagram","text":"<pre><code>flowchart TD\n    RA[RouterAgent] --&gt;|addRoute| AR[AloeRoute]\n    AR --&gt;|describeRoute| Prompt[Routing Prompt]\n    AR --&gt;|isAvailable| Decision[Availability Check]\n    AR --&gt;|getRouteState| RS[Route State]\n    AR --&gt;|setRouteState| PS[Parent State Updated]\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route.AloeRoute","title":"<code>AloeRoute</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for defining routes in AloeGraph V2.</p> <p>A route represents a sub\u2011graph or workflow that can be invoked by a <code>RouterAgent</code>. Each route must implement methods to describe itself, determine availability, and manage its internal state. Routes are parameterized by a parent state type (<code>ParentStateT</code>) and their own state type (<code>StateT</code>), both extending <code>V2AloeConfig</code>.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route.AloeRoute--responsibilities","title":"Responsibilities","text":"<ul> <li>Provide a human\u2011readable description of the route for display in   routing prompts (<code>describeRoute</code>).</li> <li>Indicate whether the route is currently available for invocation   (<code>isAvailable</code>).</li> <li>Expose and manage the route\u2019s internal state (<code>getRouteState</code>,   <code>setRouteState</code>).</li> <li>Integrate seamlessly with <code>V2AloeGraph</code> so routes can be compiled,   executed, and visualized like any other graph.</li> </ul>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route.AloeRoute--attributes","title":"Attributes","text":"<p>RouteName : str     The name of the route. Defaults to the class name if not explicitly     set during initialization. GraphName : str     The graph identifier for visualization and debugging (inherited     from <code>V2AloeGraph</code> when implemented).</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route.AloeRoute--abstract-methods","title":"Abstract Methods","text":"<p>describeRoute(parent_state: ParentStateT) -&gt; str     Return a human\u2011readable description of the route given the parent     state context. isAvailable(parent_state: ParentStateT) -&gt; bool     Return True if the route can be invoked in the current context. getRouteState(parent_state: ParentStateT) -&gt; V2AloeConfig     Retrieve the route\u2019s internal state object. setRouteState(parent_state: ParentStateT, state: StateT) -&gt; V2AloeConfig     Update the parent state with the results of executing the route.</p>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route.AloeRoute--example","title":"Example","text":"<pre><code>class SupportRoute(AloeRoute[V2AloeConfig, V2AloeConfig], V2AloeGraph[V2AloeConfig]):\n    def describeRoute(self, parent_state):\n        return \"Handles customer support inquiries.\"\n\n    def isAvailable(self, parent_state):\n        return parent_state.user_message and \"support\" in parent_state.user_message.lower()\n\n    def getRouteState(self, parent_state):\n        return V2AloeConfig(user_message=parent_state.user_message)\n\n    def setRouteState(self, parent_state, state):\n        parent_state.agent_message = state.agent_message\n        return parent_state\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route.AloeRoute.describeRoute","title":"<code>describeRoute(parent_state)</code>  <code>abstractmethod</code>","text":"<p>FIXME-MIKE: API docstring is not totally accurate. These methods are read by the router agent to determine how to route requests from intake agent</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_route.py</code> <pre><code>@abstractmethod\ndef describeRoute(self, parent_state: ParentStateT) -&gt; str:\n    \"\"\"\n    FIXME-MIKE: API docstring is not totally accurate. These methods are read by the router agent to determine how to route requests from intake agent\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/V2/graph/v2_aloe_route/#aloegraph.V2.graph.v2_aloe_route.AloeRoute.isAvailable","title":"<code>isAvailable(parent_state)</code>  <code>abstractmethod</code>","text":"<p>FIXME-MIKE: API docstring is not totally accurate. These methods are read by the router agent to determine how to route requests from intake agent</p> Source code in <code>src/aloegraph/V2/graph/v2_aloe_route.py</code> <pre><code>@abstractmethod\ndef isAvailable(self, parent_state: ParentStateT) -&gt; bool:\n    \"\"\"\n    FIXME-MIKE: API docstring is not totally accurate. These methods are read by the router agent to determine how to route requests from intake agent\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api_reference/aloegraph/agent/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/agent/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/","title":"Simple gemini chat agent","text":""},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent--simple_gemini_agent","title":"simple_gemini_agent","text":"<ul> <li>Module: <code>src/aloegraph/agent/simple_gemini_agent.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Defines a simple chat agent implementation for AloeGraph V2 that integrates with Google's Gemini API. This module provides both the response schema and the agent logic for handling single\u2011turn conversations in a notebook or application environment.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent--overview","title":"Overview","text":"<ul> <li> <p>GeminiChatAgentResponse:   A <code>BaseResponse</code> subclass defining the schema for agent replies. Includes   the <code>agent_message</code> field and a <code>SYSTEM_INSTRUCTION</code> classmethod that   guides the Gemini model to produce structured JSON output conforming to   the schema.</p> </li> <li> <p>GeminiChatAgent:   A concrete implementation of <code>ChatAgent</code> that:</p> <ul> <li>Uses <code>GeminiJSONResponseGenerator</code> to send prompts to the Gemini API.</li> <li>Validates responses against the <code>GeminiChatAgentResponse</code> schema.</li> <li>Forwards agent replies to a <code>ChatNotifier</code> for display.</li> <li>Provides a <code>factory</code> method for convenient instantiation and dialog   attachment.</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent--responsibilities","title":"Responsibilities","text":"<ul> <li>Encapsulate Gemini API calls for generating conversational replies.</li> <li>Enforce schema validation to ensure predictable agent outputs.</li> <li>Integrate with AloeGraph\u2019s notifier system for displaying messages and   managing chat state.</li> <li>Provide a lightweight, single\u2011turn example agent suitable for testing   Gemini connectivity.</li> </ul>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent--usage","title":"Usage","text":"<p>Instantiate a <code>GeminiChatAgent</code> with a Gemini client and a chat notifier:</p> <pre><code>from aloegraph.agent.simple_gemini_agent import GeminiChatAgent\nfrom aloegraph.dialog.notebook_chat_dialog import NotebookChatDialog\nfrom google import genai\n\nclient = genai.Client(api_key=GEMINI_API_KEY)\ndialog = NotebookChatDialog()\nagent = GeminiChatAgent.factory(client, dialog)\n\nagent.notify(\"Hello!\")  # sends message to Gemini and displays reply\n</code></pre>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent","title":"<code>GeminiChatAgent(client, dialog)</code>","text":"<p>               Bases: <code>ChatAgent</code></p> <p>A chat agent that uses Google's Gemini API to generate responses.</p> <p>This agent implements the <code>ChatAgent</code> interface from <code>v2_base_model</code> and integrates with a <code>ChatNotifier</code> to display replies. It sends user messages to the Gemini model, validates the output against a Pydantic schema, and forwards the agent's message to the notifier.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent--parameters","title":"Parameters","text":"<p>client : genai.Client     The Google Gemini client used to send requests to the model. dialog : v2_base_model.ChatNotifier     The notifier responsible for displaying agent replies and managing chat state.</p> <p>Initialize a GeminiChatAgent with a Gemini client and a chat notifier.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent--parameters","title":"Parameters","text":"<p>client : genai.Client     The Gemini client instance. dialog : ChatNotifier     The notifier that will display replies and manage chat state.</p> Source code in <code>src/aloegraph/agent/simple_gemini_chat_agent.py</code> <pre><code>def __init__(self, client: genai.Client, dialog: v2_base_model.ChatNotifier):\n    \"\"\"\n    Initialize a GeminiChatAgent with a Gemini client and a chat notifier.\n\n    Parameters\n    ----------\n    client : genai.Client\n        The Gemini client instance.\n    dialog : ChatNotifier\n        The notifier that will display replies and manage chat state.\n    \"\"\"\n    self.response_generator = Gemini[GeminiChatAgentResponse](\n        client, agent_name=\"Simple AloeCraft Chat Agent\", agent_description=\"Useful for testing connection to Gemini. This example is single message, single response. No chat history is retained. You can download from [GitHub](https://github.com/aloecraft/AloeGraph) and run locally or run in Google Colab\")\n    self.dialog = dialog\n    self.system_instruction = \"You are a helpful assistant\"\n</code></pre>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.factory","title":"<code>factory(client, dialog)</code>  <code>classmethod</code>","text":"<p>Convenience factory for creating a GeminiChatAgent and attaching it to a dialog.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.factory--parameters","title":"Parameters","text":"<p>client : genai.Client     The Gemini client instance. dialog : ChatNotifier     The notifier that will display replies and manage chat state.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.factory--returns","title":"Returns","text":"<p>GeminiChatAgent     A new agent instance attached to the provided dialog.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.factory--examples","title":"Examples","text":"<p>from aloegraph.agent.simple_gemini_chat_agent import GeminiChatAgent from aloegraph.dialog.notebook_chat_dialog import NotebookChatDialog from google import genai client = genai.Client(api_key=GEMINI_API_KEY) notebook_dialog = NotebookChatDialog() agent = GeminiChatAgent.factory(client, notebook_dialog)</p> Source code in <code>src/aloegraph/agent/simple_gemini_chat_agent.py</code> <pre><code>@classmethod\ndef factory(cls, client: genai.Client, dialog: v2_base_model.ChatNotifier) -&gt; \"GeminiChatAgent\":\n    \"\"\"\n    Convenience factory for creating a GeminiChatAgent and attaching it to a dialog.\n\n    Parameters\n    ----------\n    client : genai.Client\n        The Gemini client instance.\n    dialog : ChatNotifier\n        The notifier that will display replies and manage chat state.\n\n    Returns\n    -------\n    GeminiChatAgent\n        A new agent instance attached to the provided dialog.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from aloegraph.agent.simple_gemini_chat_agent import GeminiChatAgent\n    &gt;&gt;&gt; from aloegraph.dialog.notebook_chat_dialog import NotebookChatDialog\n    &gt;&gt;&gt; from google import genai\n    &gt;&gt;&gt; client = genai.Client(api_key=GEMINI_API_KEY)\n    &gt;&gt;&gt; notebook_dialog = NotebookChatDialog()\n    &gt;&gt;&gt; agent = GeminiChatAgent.factory(client, notebook_dialog)\n    \"\"\"\n    agent = cls(client, dialog)\n    dialog.set_agent(agent)\n    return agent\n</code></pre>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.notify","title":"<code>notify(msg)</code>","text":"<p>Handle a new user message by sending it to the Gemini model.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.notify--parameters","title":"Parameters","text":"<p>msg : str     The user message to process.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.notify--returns","title":"Returns","text":"<p>str     The agent's reply message.</p> Source code in <code>src/aloegraph/agent/simple_gemini_chat_agent.py</code> <pre><code>def notify(self, msg: str) -&gt; str:\n    \"\"\"\n    Handle a new user message by sending it to the Gemini model.\n\n    Parameters\n    ----------\n    msg : str\n        The user message to process.\n\n    Returns\n    -------\n    str\n        The agent's reply message.\n    \"\"\"\n    gemini_reply: GeminiChatAgentResponse = self.response_generator.generate(\n        msg)\n\n    if self.dialog:\n        self.dialog.add_reply(f\"{gemini_reply.agent_message}\", \"agent\")\n</code></pre>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.set_dialog","title":"<code>set_dialog(dialog)</code>","text":"<p>Attach a dialog to the agent.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgent.set_dialog--notes","title":"Notes","text":"<p>This method is not implemented. Use <code>v2_base_model.ChatNotifier</code> instead.</p> Source code in <code>src/aloegraph/agent/simple_gemini_chat_agent.py</code> <pre><code>@deprecated.deprecated\ndef set_dialog(self, dialog: \"ChatDialog\") -&gt; None:\n    \"\"\"\n    Attach a dialog to the agent.\n\n    Notes\n    -----\n    This method is not implemented. Use `v2_base_model.ChatNotifier` instead.\n    \"\"\"\n    raise NotImplementedError(\"Use v2_base_model.ChatNotifier instead\")\n</code></pre>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgentResponse","title":"<code>GeminiChatAgentResponse</code>","text":"<p>               Bases: <code>BaseResponse</code></p> <p>Schema for responses generated by GeminiChatAgent.</p>"},{"location":"api_reference/aloegraph/agent/simple_gemini_chat_agent/#aloegraph.agent.simple_gemini_chat_agent.GeminiChatAgentResponse--attributes","title":"Attributes","text":"<p>agent_message : str     The text message produced by the agent in response to user input.</p>"},{"location":"api_reference/aloegraph/dialog/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/dialog/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/","title":"Notebook chat dialog","text":""},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog--notebook_chat_dialog","title":"notebook_chat_dialog","text":"<ul> <li>Module: <code>src/aloegraph/dialog/notebook_chat_dialog.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul> <p>Interactive chat dialog integration for Jupyter notebooks in AloeGraph.</p> <p>This module defines <code>NotebookChatDialog</code>, a concrete implementation of <code>ChatNotifier</code> that uses <code>ipywidgets</code> to provide a simple user interface for conversational agents inside a notebook environment. It enables users to send messages to a <code>ChatAgent</code>, display replies, track logs, and update status indicators directly within the notebook.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog--overview","title":"Overview","text":"<ul> <li> <p>dialog_factory:   Utility function that creates a styled, read\u2011only <code>Textarea</code> widget   for displaying chat output or logs.</p> </li> <li> <p>NotebookChatDialog:   Provides a notebook\u2011friendly chat interface with:</p> <ul> <li>A text area for chat history</li> <li>An input box and send button for user messages</li> <li>A status output widget</li> <li>A log output area for timestamped events</li> </ul> </li> </ul>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog--responsibilities","title":"Responsibilities","text":"<ul> <li>Manage user input and submission callbacks.</li> <li>Forward messages to an attached <code>ChatAgent</code> via <code>notify</code>.</li> <li>Display agent replies and status updates in the notebook UI.</li> <li>Record and clear logs for debugging or monitoring.</li> <li>Show/hide the chat interface dynamically.</li> </ul>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog--usage","title":"Usage","text":"<p>Instantiate <code>NotebookChatDialog</code> in a Jupyter notebook and attach a <code>ChatAgent</code> to enable interactive conversations:</p> <pre><code>from aloegraph.dialog.notebook_chat_dialog import NotebookChatDialog\nfrom aloegraph.V2.v2_base_model import ChatAgent\n\ndialog = NotebookChatDialog()\ndialog.set_agent(my_agent)   # attach your ChatAgent\ndialog.display()             # render the UI in the notebook\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog","title":"<code>NotebookChatDialog()</code>","text":"<p>               Bases: <code>ChatNotifier</code></p> <p>Interactive chat dialog for Jupyter notebooks.</p> <p>This class provides a simple UI for sending messages to a ChatAgent and displaying responses, status updates, and logs. It uses ipywidgets to render a text area for chat history, an input box with a send button, and a log output area.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog--parameters","title":"Parameters","text":"<p>agent : v2_base_model.ChatAgent, optional     The chat agent to notify when user input is submitted.</p> <p>Construct the NotebookChatDialog and initialize UI and listeners.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def __init__(self):\n    \"\"\"Construct the NotebookChatDialog and initialize UI and listeners.\"\"\"\n    self.__init_ui__()\n    self.__init_listeners__()\n    self.set_agent(None)\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.__handle_submit","title":"<code>__handle_submit(sender)</code>","text":"<p>Internal callback for handling user input submission.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.__handle_submit--parameters","title":"Parameters","text":"<p>sender : Any     The widget or event that triggered the submission.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def __handle_submit(self, sender):\n    \"\"\"\n    Internal callback for handling user input submission.\n\n    Parameters\n    ----------\n    sender : Any\n        The widget or event that triggered the submission.\n    \"\"\"\n    input_val = self.pop_input()\n    formatted_text = f\"You: {input_val}\\n\"\n    self.chat_output.value += formatted_text\n\n    if self.agent:\n        self.set_indeterminant()\n        self.agent.notify(input_val)\n        self.set_active()\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.__init_listeners__","title":"<code>__init_listeners__()</code>","text":"<p>Attach event listeners to input widgets.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def __init_listeners__(self):\n    \"\"\"Attach event listeners to input widgets.\"\"\"\n    self.input_box.on_submit(self.__handle_submit)\n    self.input_btn.on_click(self.__handle_submit)\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.__init_ui__","title":"<code>__init_ui__()</code>","text":"<p>Initialize the ipywidgets UI components.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def __init_ui__(self):\n    \"\"\"Initialize the ipywidgets UI components.\"\"\"\n    self.chat_output = dialog_factory()\n    self.status = widgets.Output()\n    self.input_box = widgets.Text(\n        placeholder=\"Type your message...\", disabled=True)\n    self.input_btn = widgets.Button(\n        description=\"Send\", button_style=\"info\")\n    self.log_output = dialog_factory()\n\n    self.chat_input_ui = widgets.HBox([self.input_box, self.input_btn])\n    self.chat_ui = widgets.VBox(\n        [self.chat_output, self.status, self.chat_input_ui, self.log_output])\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.add_log","title":"<code>add_log(text)</code>","text":"<p>Append a log entry with a timestamp.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.add_log--parameters","title":"Parameters","text":"<p>text : str     The log message.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def add_log(self, text: str):\n    \"\"\"\n    Append a log entry with a timestamp.\n\n    Parameters\n    ----------\n    text : str\n        The log message.\n    \"\"\"\n    formatted_text = f\"{time.strftime('%H:%M:%S')} - {text}\\n\"\n    self.log_output.value += formatted_text\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.add_reply","title":"<code>add_reply(text, sender=None)</code>","text":"<p>Append a reply message to the chat output.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.add_reply--parameters","title":"Parameters","text":"<p>text : str     The reply text. sender : str, optional     Label for the sender, e.g. \"Agent\".</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def add_reply(self, text: str, sender: str = None):\n    \"\"\"\n    Append a reply message to the chat output.\n\n    Parameters\n    ----------\n    text : str\n        The reply text.\n    sender : str, optional\n        Label for the sender, e.g. \"Agent\".\n    \"\"\"\n    formatted_text = f\"{sender + ': ' if sender else ''}{text}\\n\"\n    self.chat_output.value += formatted_text\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.clear_input","title":"<code>clear_input()</code>","text":"<p>Hide the chat UI from the notebook display.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def clear_input(self):\n    \"\"\"Hide the chat UI from the notebook display.\"\"\"\n    self.input_box.value = \"\"\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.clear_log","title":"<code>clear_log()</code>","text":"<p>Clear all log entries.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def clear_log(self) -&gt; None:\n    \"\"\"Clear all log entries.\"\"\"\n    self.log_output.value = \"\"\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.clear_msgs","title":"<code>clear_msgs()</code>","text":"<p>Clear all chat messages.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def clear_msgs(self) -&gt; None:\n    \"\"\"Clear all chat messages.\"\"\"\n    self.chat_output.value = \"\"\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.display","title":"<code>display(init_msg=None)</code>","text":"<p>Render the chat UI in the notebook.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.display--parameters","title":"Parameters","text":"<p>init_msg : str, optional     If provided, pre-fill the input box and submit it.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def display(self, init_msg: str = None):\n    \"\"\"\n    Render the chat UI in the notebook.\n\n    Parameters\n    ----------\n    init_msg : str, optional\n        If provided, pre-fill the input box and submit it.\n    \"\"\"\n    if init_msg:\n        self.input_box.value = init_msg\n        self.__handle_submit({})\n    display(self.chat_ui)\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.hide","title":"<code>hide()</code>","text":"<p>Hide the chat UI from the notebook display.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def hide(self):\n    \"\"\"Hide the chat UI from the notebook display.\"\"\"\n    self.chat_output.layout.display = \"none\"\n    self.status.layout.display = \"none\"\n    self.input_box.layout.display = \"none\"\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.pop_input","title":"<code>pop_input()</code>","text":"<p>Retrieve and clear the current text from the input box.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.pop_input--returns","title":"Returns","text":"<p>str     The text entered by the user.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def pop_input(self) -&gt; str:\n    \"\"\"\n    Retrieve and clear the current text from the input box.\n\n    Returns\n    -------\n    str\n        The text entered by the user.\n    \"\"\"\n    input_val = self.input_box.value\n    self.input_box.value = \"\"\n    return input_val\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_active","title":"<code>set_active(status='ready.')</code>","text":"<p>Enable input controls and set status to active.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_active--parameters","title":"Parameters","text":"<p>status : str, optional     Status message to display, by default \"ready.\"</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def set_active(self, status: str = \"ready.\"):\n    \"\"\"\n    Enable input controls and set status to active.\n\n    Parameters\n    ----------\n    status : str, optional\n        Status message to display, by default \"ready.\"\n    \"\"\"\n    self.input_box.disabled = False\n    self.input_btn.disabled = False\n    self.set_status(status)\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_agent","title":"<code>set_agent(agent)</code>","text":"<p>Attach a chat agent to this dialog.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_agent--parameters","title":"Parameters","text":"<p>agent : ChatAgent     The agent to notify when user input is submitted.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_agent--returns","title":"Returns","text":"<p>ChatAgent     The agent that was set.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def set_agent(self, agent: v2_base_model.ChatAgent) -&gt; v2_base_model.ChatAgent:\n    \"\"\"\n    Attach a chat agent to this dialog.\n\n    Parameters\n    ----------\n    agent : ChatAgent\n        The agent to notify when user input is submitted.\n\n    Returns\n    -------\n    ChatAgent\n        The agent that was set.\n    \"\"\"\n    self.agent = agent\n    if not agent:\n        self.set_indeterminant(\"no agent\")\n    else:\n        self.set_active()\n    return self.agent\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_indeterminant","title":"<code>set_indeterminant(status='...')</code>","text":"<p>Disable input controls and set status to indeterminant.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_indeterminant--parameters","title":"Parameters","text":"<p>status : str, optional     Status message to display, by default \"...\"</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def set_indeterminant(self, status: str = \"...\"):\n    \"\"\"\n    Disable input controls and set status to indeterminant.\n\n    Parameters\n    ----------\n    status : str, optional\n        Status message to display, by default \"...\"\n    \"\"\"\n    self.input_box.disabled = True\n    self.input_btn.disabled = True\n    self.set_status(status)\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_status","title":"<code>set_status(text)</code>","text":"<p>Update the status output widget.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.set_status--parameters","title":"Parameters","text":"<p>text : str     Status message to display.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def set_status(self, text: str):\n    \"\"\"\n    Update the status output widget.\n\n    Parameters\n    ----------\n    text : str\n        Status message to display.\n    \"\"\"\n    self.status.outputs = ({\n        'output_type': 'display_data',\n        'data': {'text/plain': f\"{text if text else ' '}\"}\n    },)\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.NotebookChatDialog.show","title":"<code>show()</code>","text":"<p>Make the chat UI visible in the notebook.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def show(self):\n    \"\"\"Make the chat UI visible in the notebook.\"\"\"\n    self.chat_output.layout.display = \"\"\n    self.status.layout.display = \"\"\n    self.input_box.layout.display = \"\"\n</code></pre>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.dialog_factory","title":"<code>dialog_factory()</code>","text":"<p>Create a styled, read-only text area widget for displaying chat output or logs.</p>"},{"location":"api_reference/aloegraph/dialog/notebook_chat_dialog/#aloegraph.dialog.notebook_chat_dialog.dialog_factory--returns","title":"Returns","text":"<p>ipywidgets.Textarea     A Textarea widget configured with fixed width/height, wrapping, and disabled editing.</p> Source code in <code>src/aloegraph/dialog/notebook_chat_dialog.py</code> <pre><code>def dialog_factory():\n    \"\"\"\n    Create a styled, read-only text area widget for displaying chat output or logs.\n\n    Returns\n    -------\n    ipywidgets.Textarea\n        A Textarea widget configured with fixed width/height, wrapping, and disabled editing.\n    \"\"\"\n    return widgets.Textarea(\n        value=\"\",\n        layout={\n            'width': '100%',\n            'height': '350px',\n        },\n        style={\n            'description_width': 'initial',\n            'white-space': 'pre-wrap',   # preserve newlines, allow wrapping\n            'overflow-wrap': 'break-word',  # break long words if needed\n            'color': 'black'\n        },\n        disabled=True\n    )\n</code></pre>"},{"location":"api_reference/aloegraph/model/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/model/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/model/base_model/","title":"Base model","text":"<ul> <li>Module: <code>src/aloegraph/model/base_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/model/response_model/","title":"Response model","text":"<ul> <li>Module: <code>src/aloegraph/model/response_model.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/node/","title":"Index","text":"<ul> <li>Module: <code>src/aloegraph/node/__init__.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"},{"location":"api_reference/aloegraph/node/refinement/","title":"Refinement","text":"<ul> <li>Module: <code>src/aloegraph/node/refinement.py</code></li> <li>GitHub: https://github.com/aloecraft/AloeGraph</li> <li>Author: AloeCraft.org (Michael Godfrey)</li> </ul>"}]}